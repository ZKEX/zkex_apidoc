
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Uni-Trading API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="../../stylesheets/screen-9c19b03a.css" rel="stylesheet" media="screen" />
    <link href="../../stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="../../javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="uni uni_cn uni_cn_index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="../../images/logo-1e815a84.png" class="logo" alt="" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#46ae2946a2" class="toc-h1 toc-link" data-title="基础介绍">基础介绍</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1f9ac54b15" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
                  <li>
                    <a href="#d91b75440f" class="toc-h2 toc-link" data-title="字符编码">字符编码</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#55c26aba77" class="toc-h1 toc-link" data-title="用户信息">用户信息</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#8ccf3785a7" class="toc-h2 toc-link" data-title="获取用户操作手续费">获取用户操作手续费</a>
                  </li>
                  <li>
                    <a href="#4c25820818" class="toc-h2 toc-link" data-title="激活">激活</a>
                  </li>
                  <li>
                    <a href="#a471daf080" class="toc-h2 toc-link" data-title="提现">提现</a>
                  </li>
                  <li>
                    <a href="#8e9ec9ac7d" class="toc-h2 toc-link" data-title="转账">转账</a>
                  </li>
                  <li>
                    <a href="#cc67b1101b" class="toc-h2 toc-link" data-title="查询交易详情">查询交易详情</a>
                  </li>
                  <li>
                    <a href="#8039345f8c" class="toc-h2 toc-link" data-title="查询交易历史">查询交易历史</a>
                  </li>
                  <li>
                    <a href="#accountnonce" class="toc-h2 toc-link" data-title="查询AccountNonce">查询AccountNonce</a>
                  </li>
                  <li>
                    <a href="#486f6037ed" class="toc-h2 toc-link" data-title="查询账户资产">查询账户资产</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#8ba46c43fe" class="toc-h1 toc-link" data-title="签名">签名</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#26670dda42" class="toc-h2 toc-link" data-title="说明">说明</a>
                  </li>
                  <li>
                    <a href="#sdk" class="toc-h2 toc-link" data-title="SDK">SDK</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#72eaf18632" class="toc-h1 toc-link" data-title="公开市场">公开市场</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#9161c1f667" class="toc-h2 toc-link" data-title="获取交易信息">获取交易信息</a>
                  </li>
                  <li>
                    <a href="#4b9a55b0b9" class="toc-h2 toc-link" data-title="获取时间">获取时间</a>
                  </li>
                  <li>
                    <a href="#1cc2931276" class="toc-h2 toc-link" data-title="获取汇率">获取汇率</a>
                  </li>
                  <li>
                    <a href="#03372bcd75" class="toc-h2 toc-link" data-title="获取系统错误代码">获取系统错误代码</a>
                  </li>
                  <li>
                    <a href="#ff112f8d6f" class="toc-h2 toc-link" data-title="获取当前系统指数(合约)">获取当前系统指数(合约)</a>
                  </li>
                  <li>
                    <a href="#6a306ebffa" class="toc-h2 toc-link" data-title="获取某个指数的最近历史值(合约)">获取某个指数的最近历史值(合约)</a>
                  </li>
                  <li>
                    <a href="#24" class="toc-h2 toc-link" data-title="获取24小时统计价格">获取24小时统计价格</a>
                  </li>
                  <li>
                    <a href="#28a0acbc2b" class="toc-h2 toc-link" data-title="获取所有统计价格">获取所有统计价格</a>
                  </li>
                  <li>
                    <a href="#51df0d5c04" class="toc-h2 toc-link" data-title="获取所有币币交易对统计价格">获取所有币币交易对统计价格</a>
                  </li>
                  <li>
                    <a href="#777ab8d891" class="toc-h2 toc-link" data-title="获取所有合约交易对统计价格">获取所有合约交易对统计价格</a>
                  </li>
                  <li>
                    <a href="#orderbook" class="toc-h2 toc-link" data-title="获取OrderBook">获取OrderBook</a>
                  </li>
                  <li>
                    <a href="#bar" class="toc-h2 toc-link" data-title="获取Bar数据">获取Bar数据</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#57aa173947" class="toc-h1 toc-link" data-title="现货交易">现货交易</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#eec7afdfe8" class="toc-h2 toc-link" data-title="查询账户余额">查询账户余额</a>
                  </li>
                  <li>
                    <a href="#4d72cb1d3b" class="toc-h2 toc-link" data-title="查询用户费率">查询用户费率</a>
                  </li>
                  <li>
                    <a href="#nonce" class="toc-h2 toc-link" data-title="获取下单nonce值信息">获取下单nonce值信息</a>
                  </li>
                  <li>
                    <a href="#fd6ce2a756" class="toc-h2 toc-link" data-title="下单">下单</a>
                  </li>
                  <li>
                    <a href="#fc150cab0e" class="toc-h2 toc-link" data-title="撤单">撤单</a>
                  </li>
                  <li>
                    <a href="#64640ec751" class="toc-h2 toc-link" data-title="撤销所有订单">撤销所有订单</a>
                  </li>
                  <li>
                    <a href="#id" class="toc-h2 toc-link" data-title="查询订单详情根据订单Id">查询订单详情根据订单Id</a>
                  </li>
                  <li>
                    <a href="#clientorderid" class="toc-h2 toc-link" data-title="查询订单详情根据clientOrderId(仅支持活跃订单）">查询订单详情根据clientOrderId(仅支持活跃订单）</a>
                  </li>
                  <li>
                    <a href="#e13713753c" class="toc-h2 toc-link" data-title="查询订单成交详情">查询订单成交详情</a>
                  </li>
                  <li>
                    <a href="#b15445919f" class="toc-h2 toc-link" data-title="查询清算结果">查询清算结果</a>
                  </li>
                  <li>
                    <a href="#b11ddf9476" class="toc-h2 toc-link" data-title="查询所有活跃订单">查询所有活跃订单</a>
                  </li>
                  <li>
                    <a href="#id-2" class="toc-h2 toc-link" data-title="查询活跃订单根据订单Id">查询活跃订单根据订单Id</a>
                  </li>
                  <li>
                    <a href="#515c1e61e5" class="toc-h2 toc-link" data-title="查询历史订单">查询历史订单</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#5bf19eee5a" class="toc-h1 toc-link" data-title="合约交易">合约交易</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#814cf854cc" class="toc-h2 toc-link" data-title="敬请期待">敬请期待</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-api" class="toc-h1 toc-link" data-title="WebSocket API">WebSocket API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#b98a1892b6" class="toc-h2 toc-link" data-title="连接信息">连接信息</a>
                  </li>
                  <li>
                    <a href="#4ade1cf0af" class="toc-h2 toc-link" data-title="用户认证">用户认证</a>
                  </li>
                  <li>
                    <a href="#ae896f0330" class="toc-h2 toc-link" data-title="用户认证连接">用户认证连接</a>
                  </li>
                  <li>
                    <a href="#5319af762d" class="toc-h2 toc-link" data-title="订阅">订阅</a>
                  </li>
                  <li>
                    <a href="#b109d834a1" class="toc-h2 toc-link" data-title="取消订阅">取消订阅</a>
                  </li>
                  <li>
                    <a href="#94a9a32795" class="toc-h2 toc-link" data-title="心跳">心跳</a>
                  </li>
                  <li>
                    <a href="#prices" class="toc-h2 toc-link" data-title="Prices消息">Prices消息</a>
                  </li>
                  <li>
                    <a href="#bar" class="toc-h2 toc-link" data-title="Bar信息">Bar信息</a>
                  </li>
                  <li>
                    <a href="#orderbook" class="toc-h2 toc-link" data-title="OrderBook消息">OrderBook消息</a>
                  </li>
                  <li>
                    <a href="#bbo" class="toc-h2 toc-link" data-title="BBO消息">BBO消息</a>
                  </li>
                  <li>
                    <a href="#tick" class="toc-h2 toc-link" data-title="Tick消息">Tick消息</a>
                  </li>
                  <li>
                    <a href="#f4310d52cf" class="toc-h2 toc-link" data-title="订单成交消息">订单成交消息</a>
                  </li>
                  <li>
                    <a href="#cee43df56e" class="toc-h2 toc-link" data-title="订单状态变更消息">订单状态变更消息</a>
                  </li>
                  <li>
                    <a href="#5415c9f72e" class="toc-h2 toc-link" data-title="仓位变化消息">仓位变化消息</a>
                  </li>
                  <li>
                    <a href="#e729bd3a90" class="toc-h2 toc-link" data-title="爆仓消息">爆仓消息</a>
                  </li>
                  <li>
                    <a href="#c7efd92007" class="toc-h2 toc-link" data-title="账户资产变化消息">账户资产变化消息</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>API Key Guide</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='46ae2946a2'>基础介绍</h1>
<p>API使用HTTPS。</p>

<p>针对终端用户的API域名:</p>

<ul>
<li>test: https://testnet.app.zkex.com</li>
<li>pro: https://app.zkex.com</li>
</ul>

<p>API调用方式：</p>

<ul>
<li>请求方式：总是GET或POST；</li>
<li>请求路径：总是以<code>/v1/</code>开头，例如<code>/v1/market/trades</code>；</li>
</ul>
<h2 id='1f9ac54b15'>请求参数</h2>
<ul>
<li>GET请求以URL参数传入，例如：<a href="https://testnet.app.zkex.com/v1/market/bars/WBTC_USDC/SEC?start=0&amp;end=1">https://testnet.app.zkex.com/v1/market/bars/WBTC_USDC/SEC?start=0&amp;end=1</a>。</li>
<li>POST请求以JSON作为HTTP BODY传入</li>
<li>必须设置Content-Type: application/json</li>
</ul>
<h2 id='70bdef7e25'>返回参数</h2>
<p>如果API调用成功，返回200，内容总是JSON，且具有<code>Content-Type: application/json</code>。</p>

<p>如果API调用失败，返回code非200，内容总是JSON，且具有<code>Content-Type: application/json</code>，</p>

<p>格式为固定的Error，请参考<a href="https://testnet.app.zkex.com/v1/market/error">https://testnet.app.zkex.com/v1/market/error</a>。</p>

<p>如果API超过了业务频率限制，返回429，无内容，可根据返回头:</p>

<ul>
<li><code>X-RateLimit-Biz-Limit</code></li>
<li><code>X-RateLimit-Biz-Burst</code></li>
<li><code>X-RateLimit-Biz-Remaining</code></li>
</ul>

<p>获取限频次数。</p>
<h2 id='d91b75440f'>字符编码</h2>
<p>全部使用UTF-8且只能使用UTF-8。</p>

<p>示例：一个完整的GET请求：
<a href="https://testnet.app.zkex.com/v1/market/trades">https://testnet.app.zkex.com/v1/market/trades</a>。</p>
<h1 id='55c26aba77'>用户信息</h1>
<p>用户级别的操作api</p>
<h2 id='8ccf3785a7'>获取用户操作手续费</h2>
<p>API描述：查询用户激活、提现、转账等需要支付的手续费。</p>

<p>API路径：GET /v1/account/op/fee</p>

<p>是否需要鉴权：是</p>

<p>API请求参数：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>chainId</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>非必填</strong><br> 操作指令对应的chain</td>
</tr>
<tr>
<td style="text-align: left"><em>op</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>必填</strong><br>  指令类型: Transfer/Withdraw/ChangePubKey</td>
</tr>
<tr>
<td style="text-align: left"><em>address</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>必填</strong><br> 操作地址: transfer 需要填to地址</td>
</tr>
<tr>
<td style="text-align: left"><em>currency</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>必填</strong><br> 操作币种： USDC WBTC等</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.70000000"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">对应操作</span><span class="w"> </span><span class="err">Currency</span><span class="w"> </span><span class="err">数量</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='4c25820818'>激活</h2>
<p>API描述：用户充值后需要进行账户激活，此操作需要进行L1签名及L2签名</p>

<p>API路径：POST /v1/account/0/changePubKey</p>

<p>是否需要鉴权：是</p>
<div class="highlight"><pre class="highlight plaintext"><code>API请求样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"newPkHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8522196355f57a36e2d7b2347b6ab3fdd38f50d1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1690290259</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pubKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d99a5e3d62be94e5c1dcfd0a19540b17d466bade136051561d3f01d4f6208b26"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81662597c6937501c59c33fe6a180f52ca06ca7e7178893b6dacc981c03cd68e67da45256af33856a1c4c3aebd0b0e66758c3ad3af8966c366ed79852eba3b00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ethAuthData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EthECDSA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ethSignature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x318a3105234e857052a4ddaf76d6b421e5eedb93244ccff275bb5e1a5f5bff734207a60bbecdbdfeb62d7a17b1c7d2c3a03c0df5f896876b053d1beb6c15614c1c"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">312525971260161</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x9914039ef5845e478fa4c8d92cba5e5ccdd2b50e7c58fc145cbc67f94e83c271"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='a471daf080'>提现</h2>
<p>API描述：用户可以将资产进行提现，此操作需要进行L1签名及L2签名</p>

<p>API路径：POST /v1/account/0/withdraw</p>

<p>是否需要鉴权：是</p>
<div class="highlight"><pre class="highlight plaintext"><code>API请求样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"toChainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd554bb87ddd0ddb492506d70a7bdfb7fb355c27b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.66"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"withdrawToL1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"withdrawFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709787329</span><span class="p">,</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41fc696284f30d9f5d1617dc195e2bb4133d1154723c61c71ee230c081161e04969a84c11fb02676c790a245f3e8f42fddeeda43830a26f69751cf7cea14b702"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ethSignature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EthereumSignature"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x2e1203ed691d9985331eb3fe238a8e040b52d6c8a69436b5119568f9a8f7a42f24edcd380bc809fbf1a60861b43c144e5e8b326c6534c6e35de953fd87ad651f1c"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">312527078557313</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x7296ab4e047edfc6285ca1f2c16c1ceece5de6eaa58728ebd8cfcbd350994899"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='8e9ec9ac7d'>转账</h2>
<p>API描述：用户可以将资产划转到指定的账户地址，此操作需要进行L1签名及L2签名</p>

<p>API路径：POST /v1/account/0/transfer</p>

<p>是否需要鉴权：是</p>
<div class="highlight"><pre class="highlight plaintext"><code>API请求样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd554bb87ddd0ddb492506d70a7bdfb7fb355c27b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709787114</span><span class="p">,</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c702fd9908ed2c17b9e453ab8a630c0595ab0d0f92d5fe64b7c0f63af86ce49caf8e9aa1bde78b9c2a5152364b8ab9675ace67a2d5ae5dcd4dbe5be5dd365301"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ethSignature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EthereumSignature"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x2597f04e7872e5d76e4b0975136dbece5b50ad4e638dc5f6fda37302fc863c983fb0fc52e4659a207c6d7a8fff713bea523d0d1f2095ca47f8e3085845ae7f5f1b"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">312525275005953</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xa692f2447d6f41d101df7c48314ec63c3906072ff8d5e710dc57344a4f05d27d"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h2 id='cc67b1101b'>查询交易详情</h2>
<p>API描述：用户可以根据txId 查询交易详情</p>

<p>API路径：GET /v1/account/0/transaction</p>

<p>是否需要鉴权：是</p>

<p>API请求参数：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>txId</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>必填</strong><br> 操作指令成功返回的Id</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="mi">312527078557313</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">26687</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"l2AccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x7296ab4e047edfc6285ca1f2c16c1ceece5de6eaa58728ebd8cfcbd350994899"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ethHash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WITHDRAW"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fromAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd554bb87ddd0ddb492506d70a7bdfb7fb355c27b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"toAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd554bb87ddd0ddb492506d70a7bdfb7fb355c27b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currencyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.660000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"extra"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">withdrawFeeRatio</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">withdrawToL1</span><span class="se">\"</span><span class="s2">:0}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"newPkHash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pubKey"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ethAuthData"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ethSignature"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709787332053</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709787332053</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='8039345f8c'>查询交易历史</h2>
<p>API描述：用户可以查询账户操作历史记录</p>

<p>API路径：GET /v1/account/0/transactions</p>

<p>是否需要鉴权：是</p>

<p>API请求参数：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>pageIndex</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>必填</strong><br> 索引页</td>
</tr>
<tr>
<td style="text-align: left"><em>pageSize</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>必填</strong><br> 每页大小</td>
</tr>
<tr>
<td style="text-align: left"><em>type</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>非必填</strong><br> 操作指令类型 Deposit/Transfer/Withdraw/ChangePubKey</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pageIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="mi">312527078557313</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">26687</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"l2AccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x7296ab4e047edfc6285ca1f2c16c1ceece5de6eaa58728ebd8cfcbd350994899"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ethHash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WITHDRAW"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fromAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd554bb87ddd0ddb492506d70a7bdfb7fb355c27b"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"toAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd554bb87ddd0ddb492506d70a7bdfb7fb355c27b"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currencyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.66</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"extra"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">withdrawFeeRatio</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">withdrawToL1</span><span class="se">\"</span><span class="s2">:0}"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"newPkHash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pubKey"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ethAuthData"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ethSignature"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709787332053</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709787332053</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='accountnonce'>查询AccountNonce</h2>
<p>API描述：用户进行withdraw/changePubKey/transfer 时需要携带账户nonce，可以从该接口获取</p>

<p>API路径：GET /v1/accountNonce/gen/{nonceType}</p>

<p>是否需要鉴权：是</p>

<p>API请求参数：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>nonceType</em></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br> nonce类型 changePubKey: 0  other: 2</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nonceType"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='486f6037ed'>查询账户资产</h2>
<p>API描述：查询用户现货账户余额。</p>

<p>API路径：GET /v1/trading/:accountId/balances</p>

<p>API请求参数(PATH)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>accountId</em></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>账户id</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">可用</span><span class="w"> 
      </span><span class="s2">"0"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">现货冻结</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='8ba46c43fe'>签名</h1>
<p>API请求需要签名，以确认用户身份，并防止重放攻击。</p>

<p>签名算法：</p>

<p>针对一个HTTP的API请求，有如下信息：</p>

<ul>
<li>方法名称：<code>GET</code>或<code>POST</code></li>
<li>请求域名：例如<code>uniapi.876ex.com</code></li>
<li>请求路径：以/开头的URI，例如：<code>/v1/trade/orders</code></li>
<li>请求参数：以key1=value2&amp;key2=value2形式的参数，例如：<code>id=123456&amp;sort=DESC&amp;from=2017-09-10</code></li>
<li>请求Header：例如，<code>Accept: */*</code></li>
<li>请求Body：二进制表示的JSON字符串，仅针对POST有效</li>
</ul>

<p>然后，我们需要构造一个字符串，按如下格式填入：</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">GET\n
uniapi.876ex.com\n
/v1/trade/orders\n
from=2017-09-10&amp;id=123456&amp;sort=DESC\n
API-KEY: xyz123456\n
API-SIGNATURE-METHOD: HmacSHA256\n
API-SIGNATURE-VERSION: 1\n
API-TIMESTAMP: 12300000000\n
API-UNIQUE-ID: uni-123-abc-xyz\n
&lt;json body data&gt;
</span></code></pre></div>
<p>注意：每行以换行符<code>\n</code>结束。最后添加的Body结尾不要添加<code>\n</code>。</p>

<p>第一行是方法名称，全大写的<code>GET</code>或<code>POST</code>；</p>

<p>第二行是请求域名，全小写，例如：<code>uniapi.876ex.com</code>；</p>

<p>第三行是请求路径，必须以<code>/</code>开头，严格区分大小写，最后不要写<code>?</code>；</p>

<p>第四行是请求参数，严格区分大小写，并按照字母顺序排序，即排序后的字符串：<code>from=2017-09-10</code>，<code>id=123456</code>，<code>sort=DESC</code>，再用<code>&amp;</code>连接起来。如果没有请求参数，第四行是空行，注意空行也需要以<code>\n</code>结束；</p>

<p>紧接着把以<code>API-</code>开头的Header排序后以<code>HEADER: Value</code>的格式每行一个，Header名称全大写，冒号后面有一个空格，Value严格区分大小写，每个Header一行，以<code>\n</code>结束；</p>

<p>最后，如果是<code>POST</code>请求，且包含Body，把Body以JSON字符串形式添加到末尾，注意没有<code>\n</code>。如果是GET请求，或者POST请求没有Body，就添加一个空字符串<code>&#39;&#39;</code>。</p>

<p>以上字符串按UTF-8编码，得到一个二进制byte数组，然后使用API Secret计算Signature：</p></p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">signature</span> <span class="o">=</span> <span class="n">HmacSHA256</span><span class="p">(</span><span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"UTF-8"</span><span class="p">),</span> <span class="s">"my-api-secret"</span><span class="p">)</span>
</code></pre></div>
<p>将所得签名以十六进制小写字符串形式添加到Header：</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">API-Signature: a1b2c3ff001234500900dd01ff
</span></code></pre></div><h3 id='26670dda42'>说明</h3>
<p>参数使用原始字符串计算签名，例如<code>a=1/5</code>，不要使用<code>a=1%2F5</code>；</p>

<p>Header在计算签名时使用全大写，发送时大小写均可；</p>

<p>只有以API-开头的Header才被列入并计算签名（API-Signature除外，因为最后才能计算出API-Signature并附加到请求）；</p>

<p>API-Signature-Method必须为<code>HmacSHA256</code>；</p>

<p>API-Signature-Version必须为<code>1</code>；</p>

<p>API-Timestamp为当前时间戳，单位为毫秒整数，不支持小数，误差不得超过1分钟；</p>

<p>API-Unique-ID为可选，如果提供，则客户端需要提供一个唯一字符串标识，参考<a href="unique-id">API Unique Id</a>；</p>

<p>带Body的请求，需要先序列化为JSON字符串，然后把Body列入计算签名。不要对一个对象使用两次序列化，因为某些语言的实现可能导致两次序列化的JSON不一样，例如，<code>{&quot;a&quot;:true, &quot;b&quot;:1}</code>和<code>{&quot;b&quot;:1, &quot;a&quot;:true}</code>，两者JSON内容一致但字符串不同，将导致验证签名失败。</p>
<h3 id='sdk'>SDK</h3>
<p>我们提供如下的SDK封装了签名算法样例，帮助开发者快速调用API：</p>

<ul>
<li>Java SDK <a href="https://github.com/876ex-pub/signature-demo/blob/master/ApiClient.java">github</a></li>
<li>Python SDK <a href="https://github.com/876ex-pub/signature-demo/blob/master/876ex.py">github</a></li>
<li>JavaScript/Node SDK <a href="https://github.com/876ex-pub/signature-demo/blob/master/876ex.js">github</a></li>
</ul>
<h1 id='72eaf18632'>公开市场</h1>
<p>公开市场API是指无需登录，即可直接访问的API。</p>
<h2 id='9161c1f667'>获取交易信息</h2>
<p>API描述：获取交易所当前所有交易。</p>

<p>API路径：GET <a href="https://testnet.app.zkex.com/v1/market/trades">/v1/market/trades</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">字段</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>spotsSymbols</strong></td>
<td>现货交易对信息</td>
</tr>
<tr>
<td style="text-align: left"><strong>contractsCurrencies</strong></td>
<td>合约结算币种</td>
</tr>
<tr>
<td style="text-align: left"><strong>contractsSymbols</strong></td>
<td>合约交易对信息</td>
</tr>
<tr>
<td style="text-align: left"><strong>indexes</strong></td>
<td>价格信息</td>
</tr>
<tr>
<td style="text-align: left"><strong>spotsCurrencies</strong></td>
<td>现货Currency</td>
</tr>
<tr>
<td style="text-align: left"><strong>riskLimits</strong></td>
<td>合约风险系数信息</td>
</tr>
<tr>
<td style="text-align: left"><strong>chains</strong></td>
<td>支持的链信息</td>
</tr>
<tr>
<td style="text-align: left"><strong>currencies</strong></td>
<td>currency基础信息</td>
</tr>
<tr>
<td style="text-align: left"><strong>tokenMappingList</strong></td>
<td>现货和合约与链上Id映射关系</td>
</tr>
</tbody></table>

<p>数据格式：</p>

<p><code>spotsSymbols</code></p>

<table><thead>
<tr>
<th style="text-align: left">字段</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>id</strong></td>
<td>现货交易对Id</td>
</tr>
<tr>
<td style="text-align: left"><strong>name</strong></td>
<td>现货交易对名称 如:WBTC_USDC</td>
</tr>
<tr>
<td style="text-align: left"><strong>startTime</strong></td>
<td>symbol 生效时间</td>
</tr>
<tr>
<td style="text-align: left"><strong>endTime</strong></td>
<td>symbol 结束时间</td>
</tr>
<tr>
<td style="text-align: left"><strong>trade</strong></td>
<td>交易类型 SPOTS</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseName</strong></td>
<td>baseName</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseMinimumIncrement</strong></td>
<td>base最小步长</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseScale</strong></td>
<td>base精度</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseMinimumQuantity</strong></td>
<td>base最小下单量</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseMaximumQuantity</strong></td>
<td>base最大下单量</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteName</strong></td>
<td>quote   Name</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteMinimumIncrement</strong></td>
<td>quote最小步长</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteScale</strong></td>
<td>quote精度</td>
</tr>
<tr>
<td style="text-align: left"><strong>supportMarginTrade</strong></td>
<td>supportMarginTrade</td>
</tr>
<tr>
<td style="text-align: left"><strong>alwaysChargeQuote</strong></td>
<td>是否总是以quote作为手续费</td>
</tr>
</tbody></table>

<p><code>contractsSymbols</code></p>

<table><thead>
<tr>
<th style="text-align: left">字段</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>id</strong></td>
<td>合约Id</td>
</tr>
<tr>
<td style="text-align: left"><strong>name</strong></td>
<td>合约名称 如:XBTC</td>
</tr>
<tr>
<td style="text-align: left"><strong>startTime</strong></td>
<td>合约 生效时间</td>
</tr>
<tr>
<td style="text-align: left"><strong>endTime</strong></td>
<td>合约 结束时间</td>
</tr>
<tr>
<td style="text-align: left"><strong>trade</strong></td>
<td>交易类型 CONTRACTS</td>
</tr>
<tr>
<td style="text-align: left"><strong>type</strong></td>
<td>合约类型 PERPETUAL</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseCurrency</strong></td>
<td>baseCurrency</td>
</tr>
<tr>
<td style="text-align: left"><strong>marginCurrency</strong></td>
<td>marginCurrency</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteCurrency</strong></td>
<td>quoteCurrency</td>
</tr>
<tr>
<td style="text-align: left"><strong>multiplier</strong></td>
<td>面值</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteMinimumIncrement</strong></td>
<td>quote最小步长</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteName</strong></td>
<td>quote   Name</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseScale</strong></td>
<td>base 精度</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteScale</strong></td>
<td>quote精度</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseMinimumIncrement</strong></td>
<td>base最小步长</td>
</tr>
<tr>
<td style="text-align: left"><strong>maximumQuantityPerOrder</strong></td>
<td>每笔合约最大下单量</td>
</tr>
</tbody></table>

<p><code>riskLimit</code></p>

<table><thead>
<tr>
<th style="text-align: left">字段</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>initialMarginRate</strong></td>
<td>初始保证金率</td>
</tr>
<tr>
<td style="text-align: left"><strong>maintenanceMarginRate</strong></td>
<td>维持保证金率</td>
</tr>
<tr>
<td style="text-align: left"><strong>marginRateStep</strong></td>
<td>保证金率变化步长</td>
</tr>
<tr>
<td style="text-align: left"><strong>maxLeverage</strong></td>
<td>最大杠杆倍数</td>
</tr>
<tr>
<td style="text-align: left"><strong>riskLimitBase</strong></td>
<td>基础持仓量</td>
</tr>
<tr>
<td style="text-align: left"><strong>riskLimitStep</strong></td>
<td>持仓量步长</td>
</tr>
<tr>
<td style="text-align: left"><strong>maxRiskLimitSteps</strong></td>
<td>最多风险梯度次数</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"spotsSymbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100103</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1680278400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOTS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMaximumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">10000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"supportMarginTrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"alwaysChargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"contractsCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"contractsSymbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">145</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XETH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1680278400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONTRACTS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PERPETUAL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marginCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"multiplier"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maximumQuantityPerOrder"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"riskLimit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">106</span><span class="p">,</span><span class="w">
          </span><span class="nl">"initialMarginRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
          </span><span class="nl">"maintenanceMarginRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
          </span><span class="nl">"marginRateStep"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
          </span><span class="nl">"maxLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nl">"riskLimitBase"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="nl">"riskLimitStep"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="nl">"maxRiskLimitSteps"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
          </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1546956031080</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"settlementFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"referencedIndexes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"SPOT"</span><span class="p">:</span><span class="w"> </span><span class="mi">10135</span><span class="p">,</span><span class="w">
          </span><span class="nl">"FAIR"</span><span class="p">:</span><span class="w"> </span><span class="mi">10138</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PREMIUM_1M"</span><span class="p">:</span><span class="w"> </span><span class="mi">10139</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PREMIUM_AGGREGATE"</span><span class="p">:</span><span class="w"> </span><span class="mi">10140</span><span class="p">,</span><span class="w">
          </span><span class="nl">"MAX_PREMIUM_RATE"</span><span class="p">:</span><span class="w"> </span><span class="mi">10137</span><span class="p">,</span><span class="w">
          </span><span class="nl">"FUNDING_RATE_1M"</span><span class="p">:</span><span class="w"> </span><span class="mi">10141</span><span class="p">,</span><span class="w">
          </span><span class="nl">"FUNDING_RATE_AGGREGATE"</span><span class="p">:</span><span class="w"> </span><span class="mi">10142</span><span class="p">,</span><span class="w">
          </span><span class="nl">"LENDING_RATE_1D"</span><span class="p">:</span><span class="w"> </span><span class="mi">10136</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}],</span><span class="w">                                                                                                                                                                                                                           </span><span class="err">]</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indexes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10109</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">指数价格</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10110</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_DAILYRATE"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">日利率价格</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10111</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_MAXBCHUSDPI"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10112</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_USD_FAIR"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">标记价格</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10113</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_USD_PI"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10114</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_USD_PI8H"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10115</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_FR"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10116</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_FR8H"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10117</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_INS1H"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10118</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_INS1D"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"spotsCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ARM"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"riskLimits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">105</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initialMarginRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maintenanceMarginRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.005</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marginRateStep"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.005</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"riskLimitBase"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="nl">"riskLimitStep"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxRiskLimitSteps"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1546956010600</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"chains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">zk</span><span class="w"> </span><span class="err">支持的链信息</span><span class="w">
      </span><span class="nl">"145"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">tokenId</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
          </span><span class="nl">"chainTokenId"</span><span class="p">:</span><span class="w"> </span><span class="mi">145</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">tokenId</span><span class="w">
          </span><span class="nl">"chainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">chainId</span><span class="w">
          </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x1f34934e3165b3e5428f6a4d873d2620302c7223"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">地址</span><span class="w">
          </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">精度</span><span class="w">
          </span><span class="nl">"fastWithdraw"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">是否支持快速提现</span><span class="w">
          </span><span class="nl">"isSupport"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"updateTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1684493403660</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
          </span><span class="nl">"chainTokenId"</span><span class="p">:</span><span class="w"> </span><span class="mi">145</span><span class="p">,</span><span class="w">
          </span><span class="nl">"chainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f8b0bfb8458f73249024f22b4cf7b6c0eb60996"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fastWithdraw"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isSupport"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"updateTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1684493403857</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"tokenMappingList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">zkex</span><span class="w"> </span><span class="err">symbol和zklink</span><span class="w"> </span><span class="err">映射关系</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tokenId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">zkex</span><span class="w"> </span><span class="err">symbol</span><span class="w"> </span><span class="err">Id</span><span class="w">
        </span><span class="nl">"tokenName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">zkex</span><span class="w"> </span><span class="err">name</span><span class="w">
        </span><span class="nl">"mappingTokenId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">zklink</span><span class="w"> </span><span class="err">Id</span><span class="w">
        </span><span class="nl">"tokenIconUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.zk.link/token/icons/default/btc.svg"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tokenType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">symbol</span><span class="w"> </span><span class="err">type</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">SPOTS</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">CONTRACTS</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tokenId"</span><span class="p">:</span><span class="w"> </span><span class="mi">132</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tokenName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XBTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mappingTokenId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tokenIconUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.zk.link/token/icons/default/btc.svg"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tokenType"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"currencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"main"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">  
        </span><span class="nl">"conversionRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">最为保证金币种的转化率</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='4b9a55b0b9'>获取时间</h2>
<p>API描述：获取服务器当前时间，以毫秒为单位。</p>

<p>API路径：GET <a href="https://testnet.app.zkex.com/v1/market/timestamp">/v1/market/timestamp</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688098283693</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='1cc2931276'>获取汇率</h2>
<p>API描述：获取当前市场汇率。</p>

<p>API路径：GET <a href="https://testnet.app.zkex.com/v1/market/fex">/v1/market/fex</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">基准汇率:</span><span class="w">
    </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">转换汇率:</span><span class="w">
    </span><span class="nl">"tos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CAD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CNY"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"HKD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"JPY"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"KRW"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"RUB"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"TWD"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">当前汇率:</span><span class="w">
    </span><span class="nl">"exchanges"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD_GBP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.79251</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_CAD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.32423</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_JPY"</span><span class="p">:</span><span class="w"> </span><span class="mf">144.76</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_HKD"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.83533</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_TWD"</span><span class="p">:</span><span class="w"> </span><span class="mf">31.104</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9193</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_RUB"</span><span class="p">:</span><span class="w"> </span><span class="mf">87.2942</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_KRW"</span><span class="p">:</span><span class="w"> </span><span class="mf">1319.57</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_SGD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.35535</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_AUD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5077</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_CNY"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.2543</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='03372bcd75'>获取系统错误代码</h2>
<p>API描述：获取系统定义的全部错误代码。</p>

<p>API路径：GET <a href="https://testnet.app.zkex.com/v1/market/errorCodes">/v1/market/errorCodes</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ACCOUNT_FREEZE_FAILED"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account error: freeze failed."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ACCOUNT_NO_ENOUGH_AVAILABLE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account error: no enough available."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ACCOUNT_NO_ENOUGH_BALANCE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account error: no enough balance."</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='ff112f8d6f'>获取当前系统指数(合约)</h2>
<p>API描述：获取当前所有指数的最新值。</p>

<p>API路径：GET <a href="https://testnet.app.zkex.com/v1/market/indexes">/v1/market/indexes</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC_USD_PI"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"1688098860000"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">时间戳</span><span class="w">
      </span><span class="s2">"0.000096"</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">数值</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"BTC_MAXBTCUSDPI"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"1546272000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0.0005"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>某些指数是价格，
例如<code>BCH</code>是币现货加权指数，某些指数是计算的数值。
例如<code>BCH_USD_PI</code>是当前币对美元溢价率。
例如<code>BCH_USD_FAIR</code>是当前币对合约的标记价格。</p>
<h2 id='6a306ebffa'>获取某个指数的最近历史值(合约)</h2>
<p>API描述：获取某个指数的最近历史值。</p>

<p>API路径：GET /v1/market/indexes/:index_name</p>

<p>API示例：GET <a href="https://testnet.app.zkex.com/v1/market/indexes/ETH_USD_FAIR">/v1/market/indexes/ETH_USD_FAIR</a></p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>index_name</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>指数名称，例如<code>ETH_USD_FAIR</code></td>
</tr>
</tbody></table>

<p>API请求参数(Request Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>start</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>选填</strong><br/>起始时间戳，单位ms</td>
</tr>
<tr>
<td style="text-align: left"><strong>end</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>选填</strong><br/>结束时间戳，单位ms</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>选填</strong><br/>获取BAR的数量，默认1000，最大1000</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mi">1688099240000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"564.05311"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='24'>获取24小时统计价格</h2>
<p>API描述：获取某个交易对的最近24小时统计价格。接口不区分现货、合约。</p>

<p>API路径：GET /v1/market/ticker/:symbolName</p>

<p>API示例：GET <a href="https://testnet.app.zkex.com/v1/market/ticker/WBTC_USDC">/v1/market/ticker/WBTC_USDC</a></p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbolName</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>交易对名称,例如<code>WBTC_USDC</code></td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"XBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688281000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<p>数据格式：</p>

<p><code>[timestamp, open, high, low, close, amount, volume]</code></p>

<p><code>[时间戳，开盘价，最高价，最低价，收盘价，成交量, 成交额]</code></p>
<h2 id='28a0acbc2b'>获取所有统计价格</h2>
<p>API描述：获取所有交易对的最近24小时统计价格。接口不区分现货、合约。</p>

<p>API路径：GET /v1/market/allTicker</p>

<p>API示例：GET <a href="https://testnet.app.zkex.com/v1/market/allTicker">/v1/market/allTicker</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"XBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688278080000</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"XBCH"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688278080000</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"ETH_USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688278080000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='51df0d5c04'>获取所有币币交易对统计价格</h2>
<p>API描述：获取所有币币交易对的最近24小时统计价格。</p>

<p>API路径：GET /v1/market/spots/allTicker</p>

<p>API示例：GET <a href="https://testnet.app.zkex.com/v1/market/spots/allTicker">/v1/market/spots/allTicker</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ARM_USDT"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ETH_USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688284240000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"BCH_USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688284240000</span><span class="p">,</span><span class="w">
      </span><span class="mf">115.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">115.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">115.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">115.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='777ab8d891'>获取所有合约交易对统计价格</h2>
<p>API描述：获取所有合约交易对的最近24小时统计价格。</p>

<p>API路径：GET /v1/market/contracts/allTicker</p>

<p>API示例：GET <a href="https://testnet.app.zkex.com/v1/market/contracts/allTicker">/v1/market/contracts/allTicker</a></p>

<p>API请求参数：</p>

<ul>
<li>无</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"XBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688278390000</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='orderbook'>获取OrderBook</h2>
<p>API描述：获取某个交易对的最近OrderBook。</p>

<p>API路径：GET /v1/market/orderBook/:symbol_name</p>

<p>API示例：GET <a href="https://testnet.app.zkex.com/v1/market/orderBook/WBTC_USDC">/v1/market/orderBook/WBTC_USDC</a></p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol_name</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>交易对名称,例如<code>WBTC_USDC</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>depth</strong></td>
<td><strong>params</strong></td>
<td style="text-align: left"><strong>非必填</strong><br>订单薄深度 默认25 档位 最高 150 档位`</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40000.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sellOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"buyOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"39000.0"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">pirce</span><span class="w">
        </span><span class="s2">"0.10"</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">size</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"38000.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.10"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"36000.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.10"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">651640</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1689064825725</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='bar'>获取Bar数据</h2>
<p>API描述：获取某个交易对的最近Bar数据。接口不区分现货、合约。</p>

<p>API路径：GET /v1/market/bars/:symbol_name/:type</p>

<p>API示例：GET <a href="https://testnet.app.zkex.com/v1/market/bars/WBTC_USDC/min">/v1/market/bars/WBTC_USDC/min</a></p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td style="text-align: left"><strong>string</strong></td>
<td><strong>必填</strong><br>交易对名称,例如<code>WBTC_USDC</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>type</strong></td>
<td style="text-align: left"><strong>enum</strong></td>
<td><strong>必填</strong><br>Bar类型，目前支持<code>MIN</code>、<code>MIN5</code>、<code>MIN15</code>、<code>MIN30</code>、<code>HOUR</code>、<code>HOUR4</code>、<code>DAY</code>、<code>WEEK</code>、<code>MONTH</code>几种类型</td>
</tr>
</tbody></table>

<p>API请求参数(Request Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>start</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>选填</strong><br/>起始时间戳，单位ms</td>
</tr>
<tr>
<td style="text-align: left"><strong>end</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>选填</strong><br/>结束时间戳，单位ms</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>选填</strong><br/>获取BAR的数量，默认200，最大200</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mi">1685404800000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mf">0.3</span><span class="p">,</span><span class="w">
        </span><span class="mi">12000</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mi">1687132800000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<p>bar数据格式：</p>

<p><code>[timestamp, open, high, low, close, amount, volume]</code></p>

<p><code>[时间戳，开盘价，最高价，最低价，收盘价，成交量，成交额]</code></p>

<p>结果总是按时间戳升序排序</p>
<h1 id='57aa173947'>现货交易</h1>
<p>现货交易API可用于现货交易，包括下单、撤单、查看当前活动订单以及查询历史订单。</p>
<h2 id='eec7afdfe8'>查询账户余额</h2>
<p>API描述：查询用户现货账户余额。</p>

<p>API路径：GET /v1/trading/:accountId/balances</p>

<p>API请求参数(PATH)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>accountId</em></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>账户id</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">可用</span><span class="w"> 
      </span><span class="s2">"0"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">现货冻结</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='4d72cb1d3b'>查询用户费率</h2>
<p>API描述：查询用户现货交易费率。</p>

<p>API路径：GET /v1/trading/spots/fee/rate</p>

<p>API请求参数(Query Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>必填</strong><br>交易对名称,例如<code>WBTC_USDC</code></td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"taker"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688386621807</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='nonce'>获取下单nonce值信息</h2>
<p>API描述：创建订单时入参需要携带用户订单nonce,该接口是实时获取订单nonce信息接口</p>

<p>API路径：GET /v1/orderNonce/gen/:slotType/:size</p>

<p>API请求参数(PATH):</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>slotType</em></td>
<td><strong>int</strong></td>
<td style="text-align: left"><strong>必填</strong><br> 现货 0 合约 1</td>
</tr>
<tr>
<td style="text-align: left"><em>size</em></td>
<td><strong>int</strong></td>
<td style="text-align: left"><strong>选填</strong><br> 批量获取 不传返回一条</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">下单时需要</span><span class="w">
    </span><span class="nl">"slotId"</span><span class="p">:</span><span class="w"> </span><span class="mi">28773</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">下单时需要</span><span class="w">
    </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">是否可以使用</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='fd6ce2a756'>下单</h2>
<p>API描述：创建一个新订单。</p>

<p>API路径：POST /v1/trading/:accountId/spots/orders</p>

<p>API请求参数(PATH)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>accountId</em></td>
<td><strong>int</strong></td>
<td style="text-align: left"><strong>必填</strong><br>账户id</td>
</tr>
</tbody></table>

<p>API请求参数(Request Json Body)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td><strong>必填</strong><br>交易对名称,例如<code>WBTC_USDC</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>type</strong></td>
<td><strong>enum</strong></td>
<td><strong>必填</strong><br/>订单类型：限价单=&quot;LIMIT&quot;，市价单=&quot;MARKET&quot;</td>
</tr>
<tr>
<td style="text-align: left"><strong>direction</strong></td>
<td><strong>enum</strong></td>
<td><strong>必填</strong><br/>订单方向：买入=&quot;LONG&quot;，卖出=&quot;SHORT&quot;</td>
</tr>
<tr>
<td style="text-align: left"><strong>price</strong></td>
<td><strong>decimal</strong></td>
<td><strong>必填</strong><br/>订单价格，例如<code>7123.5</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>quantity</strong></td>
<td><strong>decimal</strong></td>
<td><strong>必填</strong><br/>订单数量，例如<code>1.02</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>fillOrKill</strong></td>
<td><strong>boolean</strong></td>
<td><strong>非必填</strong><br/>是否FOK订单，例如<code>true</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>immediateOrCancel</strong></td>
<td><strong>boolean</strong></td>
<td><strong>非必填</strong><br/>是否IOC订单，例如<code>true</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>postOnly</strong></td>
<td><strong>boolean</strong></td>
<td><strong>必填</strong><br/>是否被动委托订单，例如<code>true</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>hidden</strong></td>
<td><strong>boolean</strong></td>
<td><strong>必填</strong><br/>是否冰山委托订单，例如<code>true</code>，冰山委托订单手续费率使用taker费率</td>
</tr>
<tr>
<td style="text-align: left"><strong>clientOrderId</strong></td>
<td><strong>string</strong></td>
<td><strong>选填</strong><br/>用户自定义OrderId，可用于查询 activity Order</td>
</tr>
<tr>
<td style="text-align: left"><strong>slotId</strong></td>
<td><strong>long</strong></td>
<td><strong>必填</strong><br/>订单slotId，通过接口/v1/orderNonce/gen获取 例如<code>1</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>nonce</strong></td>
<td><strong>long</strong></td>
<td><strong>必填</strong><br/>订单NonceId，通过接口/v1/orderNonce/gen获取 例如<code>0</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>signature</strong></td>
<td><strong>String</strong></td>
<td><strong>必填</strong><br/>请求参数签名串，通过2层私钥签名</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：订单信息
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">133001824436288</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>注: 异步返回订单Id，订单交易结果回通过ws通知，也可以主动去查询交易结果<br/>
    市价单也需要价格，价格从接口/v1/trading/market/price/:type 获取</p>
<h2 id='fc150cab0e'>撤单</h2>
<p>API描述：撤销一个订单。</p>

<p>API路径：POST /v1/trading/:accountId/spots/orders/:orderId/cancel</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>order_id</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>订单ID</td>
</tr>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>账户ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
{
    "code": 200,
    "msg": "success",
    "data": {
        "orderId": 133016311562368
    }
}
</code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>API错误响应：
{
"code": 1003,
"msg": "Active spots order not found.",
"data": null
}
</code></pre></div><h2 id='64640ec751'>撤销所有订单</h2>
<p>API描述：撤销所有订单。</p>

<p>API路径：POST /v1/trading/:accountId/spots/orders/cancel</p>

<p>API请求参数(PATH)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>accountId</em></td>
<td><strong>int</strong></td>
<td style="text-align: left"><strong>必填</strong><br>账户id</td>
</tr>
</tbody></table>

<p>API请求参数(Request Json Body)：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"WBTC_USDC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br>交易对名称,例如<code>WBTC_USDC</code>，为空则撤销所有交易对活动订单</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<p>该接口是服务端代为执行的批处理操作，并非所有订单同时尝试取消。所以不能保证所有订单取消的时间有效性。</p>
<h2 id='id'>查询订单详情根据订单Id</h2>
<p>API描述：查询某个指定订单的详情。</p>

<p>API路径：GET /v1/trading/:accountId/spots/orders/:orderId</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>账户ID</td>
</tr>
<tr>
<td style="text-align: left"><strong>order_id</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>订单ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：订单详细信息
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128598358884418</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">539693</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULLY_FILLED"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1148.000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000175000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687861319658</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687861319658</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.010000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>OrderStatus：订单状态说明</p>

<ul>
<li>PENDING：正在等待成交的活动单；</li>
<li>FAILED：订单执行失败（无足够保证金等原因），最终状态；</li>
<li>FULLY_FILLED：全部成交，最终状态；</li>
<li>PARTIAL_FILLED：已部分成交；</li>
<li>PARTIAL_CANCELLED：部分成交后被用户取消，最终状态；</li>
<li>FULLY_CANCELLED：订单尚未成交就被用户取消，最终状态；</li>
</ul>
<h2 id='clientorderid'>查询订单详情根据clientOrderId(仅支持活跃订单）</h2>
<p>API描述：通过自定义订单ID查询订单的详情。</p>

<p>API路径：GET /v1/trading/:accountId/spots/clientOrders/open/:client_order_id</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>账户ID</td>
</tr>
<tr>
<td style="text-align: left"><strong>client_order_id</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>用户自定义订单ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：订单详细信息
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128598358884418</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">539693</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1148.000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000175000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687861319658</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687861319658</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.010000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='e13713753c'>查询订单成交详情</h2>
<p>API描述：查询当前用户的某个订单成交详情。</p>

<p>API路径：GET /v1/trading/:accountId/spots/orders/:order_id/matches</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>账户ID</td>
</tr>
<tr>
<td style="text-align: left"><strong>order_id</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br>URL地址参数，订单ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：订单成交详细信息，按时间排序
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"taker"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">40000.000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.500000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688386253562</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>如果一个订单的成交记录超过1000条，则最多返回前1000条记录。</p>
<h2 id='b15445919f'>查询清算结果</h2>
<p>API描述：查询当前用户的某个订单成交详情。</p>

<p>API路径：GET /v1/trading/:accountId/spots/match/clearings</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>账户ID</td>
</tr>
</tbody></table>

<p>API请求参数(Request Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br>交易对名称，例如<code>WBTC_USDC</code>，默认空</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong></td>
<td><strong>long</strong></td>
<td style="text-align: left"><strong>选填</strong><br/>返回结果集的最大记录数量，范围1～100，默认为100</td>
</tr>
<tr>
<td style="text-align: left"><strong>range</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br/>查询月份，格式为YYYYMM，例如&quot;201907&quot;，默认为&quot;&quot;，表示当前月份</td>
</tr>
<tr>
<td style="text-align: left"><strong>offsetId</strong></td>
<td><strong>long</strong></td>
<td style="text-align: left"><strong>选填</strong><br/>传入当前页的起始id，默认为0，表示第一页</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：订单成交详细信息，按时间排序
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="s2">"202307"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hasMore"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextOffsetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10012</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">133001413394496</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">597555</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">40000.000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.500000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderStatusAfterClearing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULLY_FILLED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderUnfilledQuantityAfterClearing"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000500000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688386253562</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x42027101d6739a9b95d94701f6886620500fa853a27cd4d7d147a7bdfba46722"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='b11ddf9476'>查询所有活跃订单</h2>
<p>API描述：查询当前用户活跃订单。</p>

<p>API路径：GET /v1/trading/:accountId/spots/orders/open</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>账户ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：订单详细信息，按时间排序
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">129987889856579</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@129987889856579"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100103</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">558326</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PARTIAL_FILLED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">39.600000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688026964900</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688026993802</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.00</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='id-2'>查询活跃订单根据订单Id</h2>
<p>API描述：根据订单Id查询当前用户活跃订单</p>

<p>API路径：GET /v1/trading/:accountId/spots/orders/open/:orderId</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>账户ID</td>
</tr>
<tr>
<td style="text-align: left"><strong>orderId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>订单Id</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：订单详细信息，按时间排序
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">133701593727043</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@133701593727043"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">620475</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688469672168</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688469672168</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='515c1e61e5'>查询历史订单</h2>
<p>API描述：查询当前用户历史订单。</p>

<p>API路径：GET /v1/trading/:accountId/spots/orders/closed</p>

<p>API请求参数(Path Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>必填</strong><br/>账户ID</td>
</tr>
</tbody></table>

<p>API请求参数(Request Param)：</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th>类型</th>
<th style="text-align: left">说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br>交易对名称，例如<code>WBTC_USDC</code>，默认空</td>
</tr>
<tr>
<td style="text-align: left"><strong>status</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br/> 订单状态 例如 FULLY_FILLED</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong></td>
<td><strong>long</strong></td>
<td style="text-align: left"><strong>选填</strong><br/>返回结果集的最大记录数量，范围1～100，默认为100</td>
</tr>
<tr>
<td style="text-align: left"><strong>range</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>选填</strong><br/>查询月份，格式为YYYYMM，例如&quot;201907&quot;，默认为&quot;&quot;，表示当前月份</td>
</tr>
<tr>
<td style="text-align: left"><strong>offsetId</strong></td>
<td><strong>long</strong></td>
<td style="text-align: left"><strong>选填</strong><br/>传入当前页的起始id，默认为0，表示第一页</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API响应样例：订单详细信息，按时间排序
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="s2">"202306"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hasMore"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextOffsetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128598358884418</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101103</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">539693</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULLY_FILLED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1148.000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000175000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687861319658</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687861319658</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.010000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128593124393026</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101103</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">539618</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULLY_CANCELLED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">50000.000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687860695563</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687860944692</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.010000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.010000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<p>历史订单总是按页查询，第一页的offsetId传入0或者不传；</p>

<p>如果API响应样例返回的hasMore=true，则可以根据nextOffsetId构造下一页查询的URL。</p>

<p>该接口不支持跨月查询</p>
<h1 id='5bf19eee5a'>合约交易</h1><h2 id='814cf854cc'>敬请期待</h2><h1 id='websocket-api'>WebSocket API</h1>
<p>WebSocket API是指连接到WebSocket后推送的数据。</p>
<h2 id='b98a1892b6'>连接信息</h2>
<p>WebSocket只支持ws协议，地址是wss://testnet.app.zkex.com/v1/market/notification</p>
<h2 id='4ade1cf0af'>用户认证</h2>
<p>要以认证用户连接wss，必须提供一个有效的wss token</p>

<p>获取wss token的方式是：</p>

<p>以API方式请求wss token，可以访问如下API地址（需要API签名）：</p>

<p>用户API请求：GET <a href="https://testnet.app.zkex.com/v1/users/wss/token">/v1/users/wss/token</a></p>
<div class="highlight"><pre class="highlight plaintext"><code>如果用户未登录，返回结果如下:

{
  "code": 1003,
  "msg": "AUTH_SIGNIN_REQUIRED",
  "data": null
}

如果用户已登录，返回包含Token的JSON：
{
  "code": 200,
  "msg": "success",
  "data": {
    "result": "ZVBkOHFYMDAwMDAyNzJlMTg5MjQxMjAxM2ZjZWQzYmRhYTUxNjM2OGQ4YjI4NjU5NDhjZjA3ZDQ3MjMyYWE5MDNlYTBkNTRlMWMxYTVhZGNlOGQ0YmI0YTA5"
  }
}

</code></pre></div>
<p>此Token默认有效期1分钟。</p>
<h2 id='ae896f0330'>用户认证连接</h2>
<p>将获取的token作为参数附加到wss连接</p>
<div class="highlight"><pre class="highlight plaintext"><code>wss://testnet.app.zkex.com/v1/market/notification?token=TlZsTWdwMDAwMDAyNzJlMTg4YzI3YjdmZDA5MmRkODY0MjE2YjNmYTU4YWMxY2EwZTdhMjRjY2IzMzNkMjMzMmViMzAxYzE1Njg2ZWFmNjAwYTNhNTdlOTgw

如果WSS服务器验证用户成功，推送消息

{
  "status": "connected",
  "message": "connected as signed user",
  "userId": 10030
}

如果WSS服务器验证用户失败，推送的消息不含userId

{
  "status": "connected",
  "message": "connected as anonymous user"
}

</code></pre></div>
<p>认证成功的WSS连接会推送用户的订单成交、取消信息等用户相关信息。</p>
<h2 id='5319af762d'>订阅</h2>
<p>连接WSS后，需要订阅指定symbol，发送消息如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"action"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"WBTC_USDC"</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">订阅指定的币对</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>返回格式：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">该币对的所有信息都会被订阅</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>ws推送的type如下</p>

<ol>
<li>orderbook </li>
<li>prices<br></li>
<li>bar : 支持kline {MIN,MIN5,MIN15,MIN30,HOUR,HOUR4,DAY,WEEK,MONTH}</li>
<li>bbo</li>
</ol>
<h2 id='b109d834a1'>取消订阅</h2>
<p>已经订阅的topic可以通过<code>unsubscribe</code>的action取消，发送消息如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"action"</span><span class="p">:</span><span class="s2">"unsubscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"WBTC_USDC"</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">订阅指定的币对</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='94a9a32795'>心跳</h2>
<p>客户端需要每<code>15秒</code>发送ping消息来维持连接心跳，格式如下</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"action"</span><span class="p">:</span><span class="s2">"ping"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>服务器响应：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"pong"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1688721638247</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='prices'>Prices消息</h2>
<p>此消息类型不需要订阅连接上ws后会以固定频率推送
服务器以固定频率推送市场价格摘要消息如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prices"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"XBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688458520000</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">时间戳</span><span class="w">
      </span><span class="mf">40000.000000</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">open</span><span class="w">
      </span><span class="mf">40000.000000</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">high</span><span class="w">
      </span><span class="mf">40000.000000</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">low</span><span class="w">
      </span><span class="mf">40000.000000</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">close</span><span class="w">
      </span><span class="mf">0.000000</span><span class="p">,</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">volume</span><span class="w">
      </span><span class="mf">0.000000</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">amount</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"XBCH"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688458520000</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.500000</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.500000</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.500000</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.500000</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.000000</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"ETH_USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688458520000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">654.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">654.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">654.000000</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<ul>
<li>消息类型：prices</li>
<li>数据格式：与Bar数据类型相同，可看作最近24小时的一条K线图（但不同于日K，因为日K的起始时间是0:00）</li>
<li>是否需要订阅: 不需要</li>
</ul>
<h2 id='bar'>Bar信息</h2>
<p>此消息类型需要进行按照symbol进行订阅，推送所有支持的
服务器会根据实际成交以固定频率推送bar（candle）信息：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"resolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTH"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">629050</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">1688198400000</span><span class="p">,</span><span class="w">
    </span><span class="mi">40000</span><span class="p">,</span><span class="w">
    </span><span class="mi">40000</span><span class="p">,</span><span class="w">
    </span><span class="mi">40000</span><span class="p">,</span><span class="w">
    </span><span class="mi">40000</span><span class="p">,</span><span class="w">
    </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
    </span><span class="mi">4000</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">  
</span></code></pre></div>
<p>说明：</p>

<ul>
<li>消息类型：bar</li>
<li>数据格式：[timestamp, open, high, low, close, amount, volume]</li>
<li>是否需要订阅: 需要</li>
</ul>
<h2 id='orderbook'>OrderBook消息</h2>
<p>服务器以固定频率增量推送OrderBook消息如下：</p>

<p>OrderBook消息如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orderbook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastSequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">629050</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">629112</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"sellOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">40000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mf">0.1</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">629112</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1688721638247</span><span class="w">

  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<ul>
<li>消息类型：orderbook</li>
<li>是否需要订阅：需要</li>
<li>深度数据格式：<code>[price, amount]</code></li>
<li>需要自己维护订单薄，按照sequenceId递增更新订单薄</li>
<li>维护订单薄规则:推送按照价格匹配，如果存在当前价格 ，那么amount更新为最新值（直接替换） ,
如果amount = 0 将该价格移除订单薄，如果当前价格不存在，按照价格排序插入到订单薄</li>
</ul>
<h2 id='bbo'>BBO消息</h2>
<p>服务器会根据系统订单薄发生变化时固定频率推送bbo数据</p>

<p>BBO消息如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bbo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">656695</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1689129928255</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bidPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">39000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bidVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"askPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">39200.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"askVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<ul>
<li>消息类型：bbo</li>
<li>是否需要订阅：需要</li>
</ul>
<h2 id='tick'>Tick消息</h2>
<p>服务器不定期推送最新成交的Tick消息如下：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tick"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">629128</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688546965845</span><span class="p">,</span><span class="w">
      </span><span class="mi">0</span><span class="p">,</span><span class="w">   
      </span><span class="mf">40000.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.100000</span><span class="p">,</span><span class="w">
      </span><span class="mf">4000.000000</span><span class="p">,</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：</p>

<ul>
<li>消息类型：tick</li>
<li>是否需要订阅：需要</li>
<li>一个tick消息包含一个或多个成交信息</li>
<li>tick数据格式：<code>[timestamp, dir, price, volume ,amount, flag]</code>

<ul>
<li>timestamp: 时间戳</li>
<li>dir: 1=主动买入, 0=主动卖出</li>
<li>price: 成交价格</li>
<li>anount: 成交数量</li>
<li>volume: 成交价值</li>
<li>flag: 0=普通成交（后续增加爆仓标志）</li>
</ul></li>
</ul>
<h2 id='f4310d52cf'>订单成交消息</h2>
<p>当用户订单成交后，获得订单成交消息：</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">629244</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">134357624815680</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688547890569</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0d2378a304e5b9681362ed6da7b1cdf42e6e4a9888aef5f494b7b0d6a955b3ce"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOTS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order_matched"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1688721638247</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>说明：
- 是否需要认证：需要</p>
<h2 id='cee43df56e'>订单状态变更消息</h2>
<p>当用户订单状态发生变动后，获得订单状态变化消息：</p>
<div class="highlight"><pre class="highlight plaintext"><code>// order_pending
{
  "sequenceId": 629212,
  "data": {
    "symbolId": 100103,
    "symbol": "WBTC_USDC",
    "quantity": 0.1,
    "orderId": 134355368280128,
    "clientOrderId": "@207390481842241",
    "fee": 0,
    "type": "LIMIT",
    "fillPrice": 0.0,
    "createdAt": 1688547608090,
    "unfilledQuantity": 0.1,
    "price": 40000.0,
    "tradeType": "SPOTS",
    "status": "PENDING",
    "direction": "SHORT"
  },
  "type": "order_pending",
  "userId": 10030,
  "timestamp":1688721638247
}
// order_cancelled
{
  "sequenceId": 629219,
  "data": {
    "symbolId": 100103,
    "symbol": "WBTC_USDC",
    "quantity": 0.1,
    "orderId": 134355368280128,
    "clientOrderId": "@207390481842241",
    "fee": 0,
    "type": "LIMIT",
    "fillPrice": 0.0,
    "createdAt": 1688547608090,
    "unfilledQuantity": 0.1,
    "price": 40000.0,
    "tradeType": "SPOTS",
    "status": "FULLY_CANCELLED",
    "direction": "SHORT"
  },
  "type": "order_cancelled",
  "userId": 10030,
  "timestamp":1688721638247
}
// order_filled
{
    "sequenceId": 629244,
    "data": {
        "symbolId": 100103,
        "symbol": "WBTC_USDC",
        "quantity": 0.1,
        "orderId": 134357624815680,
        "clientOrderId": "@207390481842241",
        "fee": 4.0,
        "type": "LIMIT",
        "fillPrice": 40000.0,
        "createdAt": 1688547877777,
        "unfilledQuantity": 0.0,
        "price": 40000.0,
        "tradeType": "SPOTS",
        "status": "FULLY_FILLED",
        "direction": "SHORT"
    },
    "type": "order_filled",
    "userId": 10030,
    "timestamp":1688721638247
}
// order_failed
{
    "sequenceId": 629378,
    "data": {
        "symbolId": 100103,
        "symbol": "WBTC_USDC",
        "quantity": 10.0,
        "orderId": 134366348968000,
        "clientOrderId": "@207390481842241",
        "fee": 0,
        "type": "LIMIT",
        "fillPrice": 0.0,
        "createdAt": 1688548917424,
        "unfilledQuantity": 10.0,
        "price": 40000.0,
        "failReason": "ACCOUNT_NO_ENOUGH_AVAILABLE",
        "tradeType": "SPOTS",
        "status": "FAILED",
        "direction": "LONG"
    },
    "type": "order_failed",
    "userId": 10030,
    "timestamp":1688721638247
}

</code></pre></div>
<p>说明：
- 是否需要认证：需要</p>

<ul>
<li>type: order_pending,order_cancelled,order_filled,order_failed</li>
<li>data 对象里面status会细化取消和filled</li>
<li>clientOrderId 用户传值 取用户传入的值，用户未传值，系统生成</li>
</ul>
<h2 id='5415c9f72e'>仓位变化消息</h2>
<p>当用户仓位发生变动后，获得仓位变化消息</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="mi">630902</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"position_changed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="mi">132</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1688555522202</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="mi">134421336293440</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txHash"</span><span class="p">:</span><span class="s2">"0xb88f84d1b73a04593ea63c08251a190c544ab558302a548ec471b4fa069d544a"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantityChanged"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"SHORT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1688721638247</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>说明：
- 是否需要认证：需要</p>
<h2 id='e729bd3a90'>爆仓消息</h2>
<p>当用户仓位发生爆仓后，获得爆仓消息</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="mi">630941</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"position_liquidated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"balances"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"USDT"</span><span class="p">:</span><span class="mi">4000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"contractsPrices"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"145"</span><span class="p">:</span><span class="mf">546.004777</span><span class="p">,</span><span class="w">
            </span><span class="nl">"132"</span><span class="p">:</span><span class="mf">50000.4375</span><span class="p">,</span><span class="w">
            </span><span class="nl">"119"</span><span class="p">:</span><span class="mf">114.000997</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"positions"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="mi">132</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"requiredMargin"</span><span class="p">:</span><span class="mi">1600</span><span class="p">,</span><span class="w">
                </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="mi">40000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"entryTotalValue"</span><span class="p">:</span><span class="mi">16000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"minimumMaintenanceMarginRate"</span><span class="p">:</span><span class="mf">0.005</span><span class="p">,</span><span class="w">
                </span><span class="nl">"minimumMaintenanceMargin"</span><span class="p">:</span><span class="mi">80</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unrealizedPNL"</span><span class="p">:</span><span class="mf">-4000.175</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"priceInfos"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"100"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="mf">45714.29</span><span class="p">,</span><span class="w">
                </span><span class="nl">"conversionRatio"</span><span class="p">:</span><span class="mi">1</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"101"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">546</span><span class="p">,</span><span class="w">
                </span><span class="nl">"conversionRatio"</span><span class="p">:</span><span class="mf">0.9</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"102"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">114</span><span class="p">,</span><span class="w">
                </span><span class="nl">"conversionRatio"</span><span class="p">:</span><span class="mf">0.8</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"103"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"conversionRatio"</span><span class="p">:</span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">10030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1688721638247</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>说明：
- 是否需要认证：需要</p>
<h2 id='c7efd92007'>账户资产变化消息</h2>
<p>当用户资产发生改变后，获取账户资产信息</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="mi">630878</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"account_changed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1688555305545</span><span class="p">,</span><span class="w">
        </span><span class="nl">"total"</span><span class="p">:</span><span class="mi">49908</span><span class="p">,</span><span class="w">
        </span><span class="nl">"available"</span><span class="p">:</span><span class="mi">45908</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currencyId"</span><span class="p">:</span><span class="mi">103</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">10030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"spotsFrozen"</span><span class="p">:</span><span class="mi">4000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="mi">630878</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1688721638247</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>说明：
- 是否需要认证：需要</p>
<h1 id='errors'>Errors</h1>
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
