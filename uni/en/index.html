
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Uni-Trading API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="../../stylesheets/screen-9c19b03a.css" rel="stylesheet" media="screen" />
    <link href="../../stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="../../javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="uni uni_en uni_en_index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="../../images/logo-1e815a84.png" class="logo" alt="" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#request-parameters" class="toc-h2 toc-link" data-title="Request Parameters">Request Parameters</a>
                  </li>
                  <li>
                    <a href="#response-parameters" class="toc-h2 toc-link" data-title="Response Parameters">Response Parameters</a>
                  </li>
                  <li>
                    <a href="#character-encoding" class="toc-h2 toc-link" data-title="Character Encoding">Character Encoding</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#signature" class="toc-h1 toc-link" data-title="Signature">Signature</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api-signature" class="toc-h2 toc-link" data-title="API-Signature">API-Signature</a>
                  </li>
                  <li>
                    <a href="#zk-signature" class="toc-h2 toc-link" data-title="Zk-Signature">Zk-Signature</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user-information" class="toc-h1 toc-link" data-title="User information">User information</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-user-operation-fees" class="toc-h2 toc-link" data-title="Get User Operation Fees">Get User Operation Fees</a>
                  </li>
                  <li>
                    <a href="#activation" class="toc-h2 toc-link" data-title="Activation">Activation</a>
                  </li>
                  <li>
                    <a href="#withdrawal" class="toc-h2 toc-link" data-title="Withdrawal">Withdrawal</a>
                  </li>
                  <li>
                    <a href="#transfer" class="toc-h2 toc-link" data-title="Transfer">Transfer</a>
                  </li>
                  <li>
                    <a href="#query-transaction-details" class="toc-h2 toc-link" data-title="Query Transaction Details">Query Transaction Details</a>
                  </li>
                  <li>
                    <a href="#query-transaction-history" class="toc-h2 toc-link" data-title="Query Transaction History">Query Transaction History</a>
                  </li>
                  <li>
                    <a href="#query-account-nonce" class="toc-h2 toc-link" data-title="Query Account Nonce">Query Account Nonce</a>
                  </li>
                  <li>
                    <a href="#query-account-balances" class="toc-h2 toc-link" data-title="Query Account Balances">Query Account Balances</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#public-market" class="toc-h1 toc-link" data-title="Public Market">Public Market</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-trading-information" class="toc-h2 toc-link" data-title="Get Trading Information">Get Trading Information</a>
                  </li>
                  <li>
                    <a href="#get-time" class="toc-h2 toc-link" data-title="Get Time">Get Time</a>
                  </li>
                  <li>
                    <a href="#get-exchange-rate" class="toc-h2 toc-link" data-title="Get Exchange Rate">Get Exchange Rate</a>
                  </li>
                  <li>
                    <a href="#get-system-error-codes" class="toc-h2 toc-link" data-title="Get System Error Codes">Get System Error Codes</a>
                  </li>
                  <li>
                    <a href="#get-current-system-indexes-contracts" class="toc-h2 toc-link" data-title="Get Current System Indexes (Contracts)">Get Current System Indexes (Contracts)</a>
                  </li>
                  <li>
                    <a href="#get-recent-historical-values-for-an-index-contract" class="toc-h2 toc-link" data-title="Get Recent Historical Values for an Index (Contract)">Get Recent Historical Values for an Index (Contract)</a>
                  </li>
                  <li>
                    <a href="#get-24-hour-statistical-price" class="toc-h2 toc-link" data-title="Get 24-hour Statistical Price">Get 24-hour Statistical Price</a>
                  </li>
                  <li>
                    <a href="#get-all-statistical-prices" class="toc-h2 toc-link" data-title="Get All Statistical Prices">Get All Statistical Prices</a>
                  </li>
                  <li>
                    <a href="#get-all-spot-trading-pair-statistical-prices" class="toc-h2 toc-link" data-title="Get All Spot Trading Pair Statistical Prices">Get All Spot Trading Pair Statistical Prices</a>
                  </li>
                  <li>
                    <a href="#get-all-contract-trading-pair-statistical-prices" class="toc-h2 toc-link" data-title="Get All Contract Trading Pair Statistical Prices">Get All Contract Trading Pair Statistical Prices</a>
                  </li>
                  <li>
                    <a href="#get-orderbook" class="toc-h2 toc-link" data-title="Get OrderBook">Get OrderBook</a>
                  </li>
                  <li>
                    <a href="#get-bar-data" class="toc-h2 toc-link" data-title="Get Bar Data">Get Bar Data</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#spot-trading" class="toc-h1 toc-link" data-title="Spot Trading">Spot Trading</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#query-account-balance" class="toc-h2 toc-link" data-title="Query Account Balance">Query Account Balance</a>
                  </li>
                  <li>
                    <a href="#query-user-fees" class="toc-h2 toc-link" data-title="Query User Fees">Query User Fees</a>
                  </li>
                  <li>
                    <a href="#get-order-nonce-information" class="toc-h2 toc-link" data-title="Get Order Nonce Information">Get Order Nonce Information</a>
                  </li>
                  <li>
                    <a href="#place-order" class="toc-h2 toc-link" data-title="Place Order">Place Order</a>
                  </li>
                  <li>
                    <a href="#cancel-order" class="toc-h2 toc-link" data-title="Cancel Order">Cancel Order</a>
                  </li>
                  <li>
                    <a href="#cancel-all-orders" class="toc-h2 toc-link" data-title="Cancel All Orders">Cancel All Orders</a>
                  </li>
                  <li>
                    <a href="#query-order-details-by-order-id" class="toc-h2 toc-link" data-title="Query Order Details by Order ID">Query Order Details by Order ID</a>
                  </li>
                  <li>
                    <a href="#query-order-details-by-clientorderid-only-supports-active-orders" class="toc-h2 toc-link" data-title="Query Order Details by clientOrderId (Only supports active orders)">Query Order Details by clientOrderId (Only supports active orders)</a>
                  </li>
                  <li>
                    <a href="#query-order-execution-details" class="toc-h2 toc-link" data-title="Query Order Execution Details">Query Order Execution Details</a>
                  </li>
                  <li>
                    <a href="#query-settlement-result" class="toc-h2 toc-link" data-title="Query Settlement Result">Query Settlement Result</a>
                  </li>
                  <li>
                    <a href="#query-all-active-orders" class="toc-h2 toc-link" data-title="Query all active orders">Query all active orders</a>
                  </li>
                  <li>
                    <a href="#query-active-orders-by-order-id" class="toc-h2 toc-link" data-title="Query active orders by order ID">Query active orders by order ID</a>
                  </li>
                  <li>
                    <a href="#query-historical-orders" class="toc-h2 toc-link" data-title="Query historical orders">Query historical orders</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#futures-trading" class="toc-h1 toc-link" data-title="Futures Trading">Futures Trading</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#stay-tuned" class="toc-h2 toc-link" data-title="Stay Tuned">Stay Tuned</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket-api" class="toc-h1 toc-link" data-title="WebSocket API">WebSocket API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#connection-information" class="toc-h2 toc-link" data-title="Connection Information">Connection Information</a>
                  </li>
                  <li>
                    <a href="#user-authentication" class="toc-h2 toc-link" data-title="User Authentication">User Authentication</a>
                  </li>
                  <li>
                    <a href="#authentication-connection" class="toc-h2 toc-link" data-title="Authentication Connection">Authentication Connection</a>
                  </li>
                  <li>
                    <a href="#subscribing" class="toc-h2 toc-link" data-title="Subscribing">Subscribing</a>
                  </li>
                  <li>
                    <a href="#unsubscribing" class="toc-h2 toc-link" data-title="Unsubscribing">Unsubscribing</a>
                  </li>
                  <li>
                    <a href="#heartbeat" class="toc-h2 toc-link" data-title="Heartbeat">Heartbeat</a>
                  </li>
                  <li>
                    <a href="#prices-message" class="toc-h2 toc-link" data-title="Prices Message">Prices Message</a>
                  </li>
                  <li>
                    <a href="#bar-information" class="toc-h2 toc-link" data-title="Bar Information">Bar Information</a>
                  </li>
                  <li>
                    <a href="#orderbook-information" class="toc-h2 toc-link" data-title="OrderBook Information">OrderBook Information</a>
                  </li>
                  <li>
                    <a href="#bbo-message" class="toc-h2 toc-link" data-title="BBO Message">BBO Message</a>
                  </li>
                  <li>
                    <a href="#tick-message" class="toc-h2 toc-link" data-title="Tick Message">Tick Message</a>
                  </li>
                  <li>
                    <a href="#order-execution-message" class="toc-h2 toc-link" data-title="Order Execution Message">Order Execution Message</a>
                  </li>
                  <li>
                    <a href="#order-status-change-message" class="toc-h2 toc-link" data-title="Order Status Change Message">Order Status Change Message</a>
                  </li>
                  <li>
                    <a href="#position-change-message" class="toc-h2 toc-link" data-title="Position Change Message">Position Change Message</a>
                  </li>
                  <li>
                    <a href="#liquidation-message" class="toc-h2 toc-link" data-title="Liquidation Message">Liquidation Message</a>
                  </li>
                  <li>
                    <a href="#account-asset-change-message" class="toc-h2 toc-link" data-title="Account Asset Change Message">Account Asset Change Message</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>API Key Guide</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>The API uses HTTPS.</p>

<p>API domain for end-users:</p>

<ul>
<li>test: https://testnet.app.zkex.com</li>
<li>prd: https://app.zkex.com</li>
</ul>

<p>API Invocation Method:</p>

<ul>
<li>Request Method: Always GET or POST.</li>
<li>Request Path: Always starts with<code>/v1/</code>, for example <code>/v1/market/trades</code>.</li>
</ul>
<h2 id='request-parameters'>Request Parameters</h2>
<ul>
<li>GET requests pass parameters in the URL, for example: <a href="https://testnet.app.zkex.com/v1/market/bars/WBTC_USDC/SEC?start=0&amp;end=1">https://testnet.app.zkex.com/v1/market/bars/WBTC_USDC/SEC?start=0&amp;end=1</a>.</li>
<li>POST requests pass JSON as the HTTP BODY</li>
<li>Content-Type must be set: application/json</li>
</ul>
<h2 id='response-parameters'>Response Parameters</h2>
<p>If the API call is successful, it returns 200, the content is always JSON, and has<code>Content-Type: application/json</code>.</p>

<p>If the API call fails, it returns a non-200 status code, the content is always JSON, and has<code>Content-Type: application/json</code>.</p>

<p>The format is a fixed Error, please refer to <a href="https://testnet.app.zkex.com/v1/market/error">https://testnet.app.zkex.com/v1/market/error</a>.</p>

<p>If the API exceeds the business frequency limit, it returns 429 with no content. The frequency limit can be obtained based on the returned headers:</p>

<ul>
<li><code>X-RateLimit-Biz-Limit</code></li>
<li><code>X-RateLimit-Biz-Burst</code></li>
<li><code>X-RateLimit-Biz-Remaining</code></li>
</ul>
<h2 id='character-encoding'>Character Encoding</h2>
<p>All requests and responses use UTF-8 exclusively.</p>

<p>Example: A complete GET request:
<a href="https://testnet.app.zkex.com/v1/market/trades">https://testnet.app.zkex.com/v1/market/trades</a>.</p>
<h1 id='signature'>Signature</h1><h2 id='api-signature'>API-Signature</h2>
<p>API requests require a signature to confirm the user&#39;s identity and prevent replay attacks.</p>

<p>Signature Algorithm：</p>

<p>For an HTTP API request, the following information is needed:</p>

<ul>
<li>Method:  <code>GET</code>或<code>POST</code></li>
<li>Domain: For example, <code>uniapi.876ex.com</code></li>
<li>Path: URI starting with ‘/’, for example <code>/v1/trade/orders</code></li>
<li>Parameters: Parameters in the form of key1=value2&amp;key2=value2, for example: <code>id=123456&amp;sort=DESC&amp;from=2017-09-10</code></li>
<li>Headers: For example, <code>Accept: */*</code></li>
<li>Body: Binary representation of a JSON string, applicable only for POST requests</li>
</ul>

<p>Construct a string according to the following format:</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">GET\n
uniapi.876ex.com\n
/v1/trade/orders\n
from=2017-09-10&amp;id=123456&amp;sort=DESC\n
API-KEY: xyz123456\n
API-SIGNATURE-METHOD: HmacSHA256\n
API-SIGNATURE-VERSION: 1\n
API-TIMESTAMP: 12300000000\n
API-UNIQUE-ID: uni-123-abc-xyz\n
&lt;json body data&gt;
</span></code></pre></div>
<p>Each line ends with a newline character <code>\n</code>. If the request body exists, do not add a newline character at the end.</p>

<p>The first line is the method name, in all caps, either <code>GET</code> or <code>POST</code>.</p>

<p>The second line is the domain, in all lowercase, for example <code>uniapi.876ex.com</code>.</p>

<p>The third line is the path, starting with <code>/</code>, strictly case-sensitive, and without a trailing <code>?</code>.</p>

<p>The fourth line is the parameters, sorted alphabetically, joined by <code>&amp;</code>: <code>from=2017-09-10</code>，<code>id=123456</code>，<code>sort=DESC</code>. If there are no request parameters, the fourth line should be blank, and note that the blank line should also end with <code>\n</code>.</p>

<p>Next, sort the headers starting with <code>API-</code> in alphabetical order, format each header in the format <code>HEADER: Value</code>, where the header name is in uppercase, followed by a colon and a space, and the value is case-sensitive. Each header should be on its own line, ending with <code>\n</code>.</p>

<p>Finally, if it is a <code>POST</code> request and contains a body, add the body in JSON string format to the end, without <code>\n</code>. If it is a <code>GET</code> request or a <code>POST</code> request without a body, add an empty string <code>&#39;&#39;</code>.</p>

<p>The above string is encoded in UTF-8 to obtain a binary byte array, then use the API Secret to calculate the Signature: ：</p></p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">signature</span> <span class="o">=</span> <span class="n">HmacSHA256</span><span class="p">(</span><span class="n">payload</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"UTF-8"</span><span class="p">),</span> <span class="s">"my-api-secret"</span><span class="p">)</span>
</code></pre></div>
<p>Add the obtained signature to the header in lowercase hexadecimal string format:</p>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="err">API-Signature: a1b2c3ff001234500900dd01ff
</span></code></pre></div><h3 id='notes'>Notes</h3>
<p>Parameters should be used in their original string format, e.g., <code>a=1/5</code>, <code>a=1%2F5</code>.</p>

<p>Headers are uppercase when calculating the signature, but case-insensitive when sending.</p>

<p>Only headers starting with API- are included in the signature calculation (except for API-Signature, Because the API-Signature can only be computed at the end and then appended to the request).</p>

<p>API-Signature-Method must be <code>HmacSHA256</code>.</p>

<p>API-Signature-Version must be <code>1</code>.</p>

<p>API-Timestamp is the current timestamp in milliseconds, without decimals, with an error margin of not more than 1 minute.</p>

<p>API-Unique-ID is optional. If provided, the client needs to provide a unique string identifier, refer to <a href="unique-id">API Unique Id</a>.</p>

<p>For requests with a body, it&#39;s necessary to first serialize it into a JSON string and then include the body in the signature calculation. Avoid serializing an object twice because some language implementations may result in different JSON strings for two serializations of the same object. For example, <code>{&quot;a&quot;:true, &quot;b&quot;:1}</code> and <code>{&quot;b&quot;:1, &quot;a&quot;:true}</code> have identical JSON content but different strings, which would cause signature validation to fail.</p>
<h3 id='sdk'>SDK</h3>
<p>We provide the following SDKs encapsulating sample signature algorithms to assist developers in quickly calling the API:</p>

<ul>
<li>Java SDK <a href="https://github.com/876ex-pub/signature-demo/blob/master/ApiClient.java">github</a></li>
<li>Python SDK <a href="https://github.com/876ex-pub/signature-demo/blob/master/876ex.py">github</a></li>
<li>JavaScript/Node SDK <a href="https://github.com/876ex-pub/signature-demo/blob/master/876ex.js">github</a></li>
</ul>
<h3 id='apikey-amp-apisecret'>ApiKey &amp; ApiSecret</h3>
<p>API Key &amp; API Secret retrieval interface is temporarily unavailable. Please contact us if needed.</p>
<h2 id='zk-signature'>Zk-Signature</h2>
<p>During transactions, users need to sign transaction data using ZK-Transaction.</p>

<ul>
<li>ou can refer to the official documentation of zkLink for more information: <a href="https://docs.zk.link/developer/sdk/changelog/signer">zkLink X </a></li>
<li>If needed, please feel free to contact us.</li>
</ul>
<h1 id='user-information'>User information</h1>
<p>APIs for user-level operations.</p>
<h2 id='get-user-operation-fees'>Get User Operation Fees</h2>
<p>API Description: Query fees required for user operations such as activation, withdrawal, and transfer.</p>

<p>API Path: GET /v1/account/op/fee</p>

<p>Authentication Required: Yes</p>

<p>API Request Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>chainId</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>Optional</strong><br> Chain corresponding to the operation.</td>
</tr>
<tr>
<td style="text-align: left"><em>op</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>Required</strong><br>  Operation type: Transfer/Withdraw/ChangePubKey</td>
</tr>
<tr>
<td style="text-align: left"><em>address</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>Required</strong><br> Operation address: required for transfer to address field</td>
</tr>
<tr>
<td style="text-align: left"><em>currency</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>Required</strong><br> Currency of operation: USDC, WBTC, etc.</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.70000000"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">Corresponding</span><span class="w"> </span><span class="err">amount</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">Currency</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">operation</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='activation'>Activation</h2>
<p>API Description: After a user deposits, account activation is required. This operation requires both L1 and L2 signatures.</p>

<p>API Path: POST /v1/account/0/changePubKey</p>

<p>Authentication Required: Yes</p>

<p>Signature and ethAuthData need to be signed via zkLink.</p>
<div class="highlight"><pre class="highlight plaintext"><code>API Request Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"newPkHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8522196355f57a36e2d7b2347b6ab3fdd38f50d1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1690290259</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pubKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d99a5e3d62be94e5c1dcfd0a19540b17d466bade136051561d3f01d4f6208b26"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81662597c6937501c59c33fe6a180f52ca06ca7e7178893b6dacc981c03cd68e67da45256af33856a1c4c3aebd0b0e66758c3ad3af8966c366ed79852eba3b00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ethAuthData"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EthECDSA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ethSignature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x318a3105234e857052a4ddaf76d6b421e5eedb93244ccff275bb5e1a5f5bff734207a60bbecdbdfeb62d7a17b1c7d2c3a03c0df5f896876b053d1beb6c15614c1c"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">312525971260161</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x9914039ef5845e478fa4c8d92cba5e5ccdd2b50e7c58fc145cbc67f94e83c271"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='withdrawal'>Withdrawal</h2>
<p>API Description: Users can withdraw assets. This operation requires both L1 and L2 signatures.</p>

<p>API Path: POST /v1/account/0/withdraw</p>

<p>Authentication Required: Yes</p>

<p>Signature and ethAuthData need to be signed via zkLink.</p>
<div class="highlight"><pre class="highlight plaintext"><code>API Request Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"toChainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd554bb87ddd0ddb492506d70a7bdfb7fb355c27b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.66"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"withdrawToL1"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"withdrawFeeRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709787329</span><span class="p">,</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41fc696284f30d9f5d1617dc195e2bb4133d1154723c61c71ee230c081161e04969a84c11fb02676c790a245f3e8f42fddeeda43830a26f69751cf7cea14b702"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ethSignature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EthereumSignature"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x2e1203ed691d9985331eb3fe238a8e040b52d6c8a69436b5119568f9a8f7a42f24edcd380bc809fbf1a60861b43c144e5e8b326c6534c6e35de953fd87ad651f1c"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>API Request Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">312527078557313</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x7296ab4e047edfc6285ca1f2c16c1ceece5de6eaa58728ebd8cfcbd350994899"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='transfer'>Transfer</h2>
<p>API Description: Users can transfer assets to a specified account address. This operation requires both L1 and L2 signatures.</p>

<p>API Path: POST /v1/account/0/transfer</p>

<p>Authentication Required: Yes</p>

<p>signature and ethAuthData need to be signed with zkLink.</p>
<div class="highlight"><pre class="highlight plaintext"><code>API Request Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd554bb87ddd0ddb492506d70a7bdfb7fb355c27b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709787114</span><span class="p">,</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c702fd9908ed2c17b9e453ab8a630c0595ab0d0f92d5fe64b7c0f63af86ce49caf8e9aa1bde78b9c2a5152364b8ab9675ace67a2d5ae5dcd4dbe5be5dd365301"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ethSignature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EthereumSignature"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x2597f04e7872e5d76e4b0975136dbece5b50ad4e638dc5f6fda37302fc863c983fb0fc52e4659a207c6d7a8fff713bea523d0d1f2095ca47f8e3085845ae7f5f1b"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>API Request Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">312525275005953</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xa692f2447d6f41d101df7c48314ec63c3906072ff8d5e710dc57344a4f05d27d"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div><h2 id='query-transaction-details'>Query Transaction Details</h2>
<p>API Description: Users can query transaction details based on the transaction ID.</p>

<p>API Path: GET /v1/account/0/transaction</p>

<p>Authentication Required: Yes</p>

<p>API Request Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameters</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>txId</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>Required</strong><br> Id returned upon successful operation.</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="mi">312527078557313</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">26687</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"l2AccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x7296ab4e047edfc6285ca1f2c16c1ceece5de6eaa58728ebd8cfcbd350994899"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ethHash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WITHDRAW"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fromAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd554bb87ddd0ddb492506d70a7bdfb7fb355c27b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"toAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd554bb87ddd0ddb492506d70a7bdfb7fb355c27b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currencyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.660000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">10.000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"extra"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">withdrawFeeRatio</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">withdrawToL1</span><span class="se">\"</span><span class="s2">:0}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"newPkHash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pubKey"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ethAuthData"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ethSignature"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709787332053</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709787332053</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='query-transaction-history'>Query Transaction History</h2>
<p>API Description: Users can query the account operation history.</p>

<p>API Path: GET /v1/account/0/transactions</p>

<p>Authentication Required: Yes</p>

<p>API Request Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>pageIndex</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>Required</strong><br> Page index.</td>
</tr>
<tr>
<td style="text-align: left"><em>pageSize</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>Required</strong><br> Page size.</td>
</tr>
<tr>
<td style="text-align: left"><em>type</em></td>
<td><strong>param</strong></td>
<td style="text-align: left"><strong>Optional</strong><br> Operation type: Deposit/Transfer/Withdraw/ChangePubKey</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pageIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"txId"</span><span class="p">:</span><span class="w"> </span><span class="mi">312527078557313</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">26687</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"l2AccountId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x7296ab4e047edfc6285ca1f2c16c1ceece5de6eaa58728ebd8cfcbd350994899"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ethHash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WITHDRAW"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fromAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd554bb87ddd0ddb492506d70a7bdfb7fb355c27b"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"toAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xd554bb87ddd0ddb492506d70a7bdfb7fb355c27b"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currencyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.66</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"extra"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{</span><span class="se">\"</span><span class="s2">withdrawFeeRatio</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">withdrawToL1</span><span class="se">\"</span><span class="s2">:0}"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"newPkHash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ts"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"pubKey"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ethAuthData"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"ethSignature"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709787332053</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1709787332053</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='query-account-nonce'>Query Account Nonce</h2>
<p>API Description: Users need to carry account nonce when conducting withdraw/changePubKey/transfer operations, which can be obtained from this API.</p>

<p>API Path: GET /v1/accountNonce/gen/{nonceType}</p>

<p>Authentication Required: Yes</p>

<p>API Request Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>nonceType</em></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br> nonce type: changePubKey: 0  other: 2</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nonceType"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='query-account-balances'>Query Account Balances</h2>
<p>API Description: Query the balances of a user&#39;s spot trading account.</p>

<p>API Path: GET /v1/trading/:accountId/balances</p>

<p>API Request Parameters (PATH):</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>accountId</em></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br>Account id</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Available</span><span class="w"> 
      </span><span class="s2">"0"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Spot</span><span class="w"> </span><span class="err">frozen</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='public-market'>Public Market</h1>
<p>The public market API refers to an API that can be accessed directly without the need for logging in.</p>
<h2 id='get-trading-information'>Get Trading Information</h2>
<p>API Description: Retrieve all current trades on the exchange.</p>

<p>API Path: GET <a href="https://testnet.app.zkex.com/v1/market/trades">/v1/market/trades</a></p>

<p>API Request Parameters:</p>

<ul>
<li>None</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API response example:
</code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>spotsSymbols</strong></td>
<td>Spot trading pair information</td>
</tr>
<tr>
<td style="text-align: left"><strong>contractsCurrencies</strong></td>
<td>Contract settlement currency</td>
</tr>
<tr>
<td style="text-align: left"><strong>contractsSymbols</strong></td>
<td>Contract trading pair information</td>
</tr>
<tr>
<td style="text-align: left"><strong>indexes</strong></td>
<td>Price information</td>
</tr>
<tr>
<td style="text-align: left"><strong>spotsCurrencies</strong></td>
<td>Spot currency</td>
</tr>
<tr>
<td style="text-align: left"><strong>riskLimits</strong></td>
<td>Contract risk coefficient information</td>
</tr>
<tr>
<td style="text-align: left"><strong>chains</strong></td>
<td>Supported chain information</td>
</tr>
<tr>
<td style="text-align: left"><strong>currencies</strong></td>
<td>Currency basic information</td>
</tr>
<tr>
<td style="text-align: left"><strong>tokenMappingList</strong></td>
<td>Mapping relationship between spot, contract, and chain IDs</td>
</tr>
</tbody></table>

<p>Data Format:</p>

<p><code>spotsSymbols</code></p>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>id</strong></td>
<td>Spot trading pair ID</td>
</tr>
<tr>
<td style="text-align: left"><strong>name</strong></td>
<td>Spot trading pair name, e.g., WBTC_USDC</td>
</tr>
<tr>
<td style="text-align: left"><strong>startTime</strong></td>
<td>Symbol effective time</td>
</tr>
<tr>
<td style="text-align: left"><strong>endTime</strong></td>
<td>Symbol end time</td>
</tr>
<tr>
<td style="text-align: left"><strong>trade</strong></td>
<td>Trading type SPOTS</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseName</strong></td>
<td>baseName</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseMinimumIncrement</strong></td>
<td>Minimum increment of base</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseScale</strong></td>
<td>Base precision</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseMinimumQuantity</strong></td>
<td>Minimum order quantity of base</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseMaximumQuantity</strong></td>
<td>Maximum order quantity of base</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteName</strong></td>
<td>quote   Name</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteMinimumIncrement</strong></td>
<td>Minimum increment of quote</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteScale</strong></td>
<td>Quote precision</td>
</tr>
<tr>
<td style="text-align: left"><strong>supportMarginTrade</strong></td>
<td>Support margin trading</td>
</tr>
<tr>
<td style="text-align: left"><strong>alwaysChargeQuote</strong></td>
<td>Whether always charges quote as fee</td>
</tr>
</tbody></table>

<p><code>contractsSymbols</code></p>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>id</strong></td>
<td>Contract ID</td>
</tr>
<tr>
<td style="text-align: left"><strong>name</strong></td>
<td>Contract name, e.g., XBTC</td>
</tr>
<tr>
<td style="text-align: left"><strong>startTime</strong></td>
<td>Contract effective time</td>
</tr>
<tr>
<td style="text-align: left"><strong>endTime</strong></td>
<td>Contract end time</td>
</tr>
<tr>
<td style="text-align: left"><strong>trade</strong></td>
<td>Trading type CONTRACTS</td>
</tr>
<tr>
<td style="text-align: left"><strong>type</strong></td>
<td>Contract type PERPETUAL</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseCurrency</strong></td>
<td>baseCurrency</td>
</tr>
<tr>
<td style="text-align: left"><strong>marginCurrency</strong></td>
<td>marginCurrency</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteCurrency</strong></td>
<td>quoteCurrency</td>
</tr>
<tr>
<td style="text-align: left"><strong>multiplier</strong></td>
<td>face value</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteMinimumIncrement</strong></td>
<td>Minimum increment of quote</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteName</strong></td>
<td>quote   Name</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseScale</strong></td>
<td>base precision</td>
</tr>
<tr>
<td style="text-align: left"><strong>quoteScale</strong></td>
<td>Quote precision</td>
</tr>
<tr>
<td style="text-align: left"><strong>baseMinimumIncrement</strong></td>
<td>Minimum increment of base</td>
</tr>
<tr>
<td style="text-align: left"><strong>maximumQuantityPerOrder</strong></td>
<td>Maximum order quantity per contract</td>
</tr>
</tbody></table>

<p><code>riskLimit</code></p>

<table><thead>
<tr>
<th style="text-align: left">Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>initialMarginRate</strong></td>
<td>Initial margin rate</td>
</tr>
<tr>
<td style="text-align: left"><strong>maintenanceMarginRate</strong></td>
<td>Maintenance margin rate</td>
</tr>
<tr>
<td style="text-align: left"><strong>marginRateStep</strong></td>
<td>Margin rate change step</td>
</tr>
<tr>
<td style="text-align: left"><strong>maxLeverage</strong></td>
<td>Maximum leverage</td>
</tr>
<tr>
<td style="text-align: left"><strong>riskLimitBase</strong></td>
<td>Basic position</td>
</tr>
<tr>
<td style="text-align: left"><strong>riskLimitStep</strong></td>
<td>Position step</td>
</tr>
<tr>
<td style="text-align: left"><strong>maxRiskLimitSteps</strong></td>
<td>Maximum risk gradient count</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"spotsSymbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100103</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1680278400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOTS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMaximumQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">10000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"supportMarginTrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"alwaysChargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"contractsCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"contractsSymbols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">145</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XETH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1680278400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"trade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONTRACTS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PERPETUAL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marginCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"multiplier"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quoteScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseScale"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"baseMinimumIncrement"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maximumQuantityPerOrder"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"riskLimit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">106</span><span class="p">,</span><span class="w">
          </span><span class="nl">"initialMarginRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.02</span><span class="p">,</span><span class="w">
          </span><span class="nl">"maintenanceMarginRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
          </span><span class="nl">"marginRateStep"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
          </span><span class="nl">"maxLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nl">"riskLimitBase"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="nl">"riskLimitStep"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
          </span><span class="nl">"maxRiskLimitSteps"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
          </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1546956031080</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"settlementFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"referencedIndexes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"SPOT"</span><span class="p">:</span><span class="w"> </span><span class="mi">10135</span><span class="p">,</span><span class="w">
          </span><span class="nl">"FAIR"</span><span class="p">:</span><span class="w"> </span><span class="mi">10138</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PREMIUM_1M"</span><span class="p">:</span><span class="w"> </span><span class="mi">10139</span><span class="p">,</span><span class="w">
          </span><span class="nl">"PREMIUM_AGGREGATE"</span><span class="p">:</span><span class="w"> </span><span class="mi">10140</span><span class="p">,</span><span class="w">
          </span><span class="nl">"MAX_PREMIUM_RATE"</span><span class="p">:</span><span class="w"> </span><span class="mi">10137</span><span class="p">,</span><span class="w">
          </span><span class="nl">"FUNDING_RATE_1M"</span><span class="p">:</span><span class="w"> </span><span class="mi">10141</span><span class="p">,</span><span class="w">
          </span><span class="nl">"FUNDING_RATE_AGGREGATE"</span><span class="p">:</span><span class="w"> </span><span class="mi">10142</span><span class="p">,</span><span class="w">
          </span><span class="nl">"LENDING_RATE_1D"</span><span class="p">:</span><span class="w"> </span><span class="mi">10136</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}],</span><span class="w">                                                                                                                                                                                                                           </span><span class="err">]</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indexes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10109</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">Index</span><span class="w"> </span><span class="err">Rate</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10110</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_DAILYRATE"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Daily</span><span class="w"> </span><span class="err">Rate</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10111</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_MAXBCHUSDPI"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10112</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_USD_FAIR"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Marked</span><span class="w"> </span><span class="err">Rate</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10113</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_USD_PI"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10114</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_USD_PI8H"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10115</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_FR"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10116</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_FR8H"</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10117</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_INS1H"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10118</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH_INS1D"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">5995814400000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"spotsCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ARM"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"USDT"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"riskLimits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">105</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initialMarginRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maintenanceMarginRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.005</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marginRateStep"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.005</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxLeverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"riskLimitBase"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="nl">"riskLimitStep"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxRiskLimitSteps"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1546956010600</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"chains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">zk</span><span class="w"> </span><span class="err">supported</span><span class="w"> </span><span class="err">chain</span><span class="w"> </span><span class="err">id</span><span class="w">
      </span><span class="nl">"145"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">tokenId</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
          </span><span class="nl">"chainTokenId"</span><span class="p">:</span><span class="w"> </span><span class="mi">145</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">tokenId</span><span class="w">
          </span><span class="nl">"chainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">chainId</span><span class="w">
          </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x1f34934e3165b3e5428f6a4d873d2620302c7223"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">address</span><span class="w">
          </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">precision</span><span class="w">
          </span><span class="nl">"fastWithdraw"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">whether</span><span class="w"> </span><span class="err">support</span><span class="w"> </span><span class="err">fast</span><span class="w"> </span><span class="err">withdraw</span><span class="w">
          </span><span class="nl">"isSupport"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"updateTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1684493403660</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
          </span><span class="nl">"chainTokenId"</span><span class="p">:</span><span class="w"> </span><span class="mi">145</span><span class="p">,</span><span class="w">
          </span><span class="nl">"chainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8f8b0bfb8458f73249024f22b4cf7b6c0eb60996"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"decimals"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
          </span><span class="nl">"fastWithdraw"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"isSupport"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"updateTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1684493403857</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"tokenMappingList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">zkex</span><span class="w"> </span><span class="err">symbol</span><span class="w"> </span><span class="err">and</span><span class="w"> </span><span class="err">zklink</span><span class="w"> </span><span class="err">mapping</span><span class="w"> </span><span class="err">relation</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tokenId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">zkex</span><span class="w"> </span><span class="err">symbol</span><span class="w"> </span><span class="err">Id</span><span class="w">
        </span><span class="nl">"tokenName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">zkex</span><span class="w"> </span><span class="err">name</span><span class="w">
        </span><span class="nl">"mappingTokenId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">zklink</span><span class="w"> </span><span class="err">Id</span><span class="w">
        </span><span class="nl">"tokenIconUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.zk.link/token/icons/default/btc.svg"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tokenType"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">symbol</span><span class="w"> </span><span class="err">type</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="err">SPOTS</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="err">CONTRACTS</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tokenId"</span><span class="p">:</span><span class="w"> </span><span class="mi">132</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tokenName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XBTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mappingTokenId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tokenIconUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://static.zk.link/token/icons/default/btc.svg"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tokenType"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"currencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"main"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">  
        </span><span class="nl">"conversionRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">Conversion</span><span class="w"> </span><span class="err">rate</span><span class="w"> </span><span class="err">of</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">collateral</span><span class="w"> </span><span class="err">currency</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"displayName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-time'>Get Time</h2>
<p>API Description: Retrieve the current server time in milliseconds.</p>

<p>API Path: GET <a href="https://testnet.app.zkex.com/v1/market/timestamp">/v1/market/timestamp</a></p>

<p>API Request Parameters:</p>

<ul>
<li>None</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688098283693</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-exchange-rate'>Get Exchange Rate</h2>
<p>API Description: Retrieve the current market exchange rates.</p>

<p>API Path: GET <a href="https://testnet.app.zkex.com/v1/market/fex">/v1/market/fex</a></p>

<p>API Request Parameters:</p>

<ul>
<li>None</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">Base</span><span class="w"> </span><span class="err">Exchange</span><span class="w"> </span><span class="err">Rate:</span><span class="w">
    </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">Conversion</span><span class="w"> </span><span class="err">Rates:</span><span class="w">
    </span><span class="nl">"tos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CAD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"CNY"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"EUR"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"GBP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"HKD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"JPY"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"KRW"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"RUB"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"SGD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"TWD"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="err">//</span><span class="w"> </span><span class="err">Current</span><span class="w"> </span><span class="err">Exchange</span><span class="w"> </span><span class="err">Rates:</span><span class="w">
    </span><span class="nl">"exchanges"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"USD_GBP"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.79251</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_CAD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.32423</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_JPY"</span><span class="p">:</span><span class="w"> </span><span class="mf">144.76</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_HKD"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.83533</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_TWD"</span><span class="p">:</span><span class="w"> </span><span class="mf">31.104</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_EUR"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9193</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_RUB"</span><span class="p">:</span><span class="w"> </span><span class="mf">87.2942</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_KRW"</span><span class="p">:</span><span class="w"> </span><span class="mf">1319.57</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_SGD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.35535</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_AUD"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5077</span><span class="p">,</span><span class="w">
      </span><span class="nl">"USD_CNY"</span><span class="p">:</span><span class="w"> </span><span class="mf">7.2543</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-system-error-codes'>Get System Error Codes</h2>
<p>API Description: Retrieve all error codes defined in the system.</p>

<p>API Path: GET <a href="https://testnet.app.zkex.com/v1/market/errorCodes">/v1/market/errorCodes</a></p>

<p>API Request Parameters:</p>

<ul>
<li>None</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ACCOUNT_FREEZE_FAILED"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account error: freeze failed."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ACCOUNT_NO_ENOUGH_AVAILABLE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account error: no enough available."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ACCOUNT_NO_ENOUGH_BALANCE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Account error: no enough balance."</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-current-system-indexes-contracts'>Get Current System Indexes (Contracts)</h2>
<p>API Description: Retrieve the latest values of all current indexes.</p>

<p>API Path: GET <a href="https://testnet.app.zkex.com/v1/market/indexes">/v1/market/indexes</a></p>

<p>API Request Parameters:</p>

<ul>
<li>None</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC_USD_PI"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"1688098860000"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">timestamp</span><span class="w">
      </span><span class="s2">"0.000096"</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">value</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"BTC_MAXBTCUSDPI"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"1546272000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0.0005"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Some indexes represent prices, 
such as <code>BCH</code>, which is the spot-weighted index of the coin. Other indexes represent calculated values. 
For instance, <code>BCH_USD_PI</code> indicates the current premium rate of the coin against the US dollar, 
while <code>BCH_USD_FAIR</code> represents the mark price of the coin against the contract.</p>
<h2 id='get-recent-historical-values-for-an-index-contract'>Get Recent Historical Values for an Index (Contract)</h2>
<p>API Description: Retrieve the recent historical values for a specific index.</p>

<p>API Path: GET /v1/market/indexes/:index_name</p>

<p>API Example: GET <a href="https://testnet.app.zkex.com/v1/market/indexes/ETH_USD_FAIR">/v1/market/indexes/ETH_USD_FAIR</a></p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>index_name</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br>Index name, for example <code>ETH_USD_FAIR</code></td>
</tr>
</tbody></table>

<p>API Request Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>start</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>Optional</strong><br/>Start timestamp, in milliseconds</td>
</tr>
<tr>
<td style="text-align: left"><strong>end</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>Optional</strong><br/>End timestamp, in milliseconds.</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>Optional</strong><br/>The number of BARs to retrieve, default is 1000, maximum is 1000</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mi">1688099240000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"564.05311"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-24-hour-statistical-price'>Get 24-hour Statistical Price</h2>
<p>API Description: Retrieve the latest 24-hour statistical price for a specific trading pair. The interface does not distinguish between spot and contract trading.</p>

<p>API Path: GET /v1/market/ticker/:symbolName</p>

<p>API Example: GET <a href="https://testnet.app.zkex.com/v1/market/ticker/WBTC_USDC">/v1/market/ticker/WBTC_USDC</a></p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbolName</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br>Symbol name, for example <code>WBTC_USDC</code></td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"XBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688281000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Note:</p>

<p>Data format:</p>

<p><code>[timestamp, open, high, low, close, amount, volume]</code></p>
<h2 id='get-all-statistical-prices'>Get All Statistical Prices</h2>
<p>API Description: Retrieve the latest 24-hour statistical prices for all trading pairs. The interface does not distinguish between spot and contract trading pairs.</p>

<p>API Path: GET /v1/market/allTicker</p>

<p>API Example: GET <a href="https://testnet.app.zkex.com/v1/market/allTicker">/v1/market/allTicker</a></p>

<p>API Request Parameters:</p>

<ul>
<li>None</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"XBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688278080000</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"XBCH"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688278080000</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"ETH_USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688278080000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-all-spot-trading-pair-statistical-prices'>Get All Spot Trading Pair Statistical Prices</h2>
<p>API Description: Retrieve the latest 24-hour statistical prices for all spot trading pairs.</p>

<p>API Path: GET /v1/market/spots/allTicker</p>

<p>API Example: GET <a href="https://testnet.app.zkex.com/v1/market/spots/allTicker">/v1/market/spots/allTicker</a></p>

<p>API Request Parameters:</p>

<ul>
<li>None</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ARM_USDT"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ETH_USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688284240000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"BCH_USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688284240000</span><span class="p">,</span><span class="w">
      </span><span class="mf">115.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">115.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">115.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">115.5</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-all-contract-trading-pair-statistical-prices'>Get All Contract Trading Pair Statistical Prices</h2>
<p>API Description: Retrieve the latest 24-hour statistical prices for all contract trading pairs.</p>

<p>API Path: GET /v1/market/contracts/allTicker</p>

<p>API Example: GET <a href="https://testnet.app.zkex.com/v1/market/contracts/allTicker">/v1/market/contracts/allTicker</a></p>

<p>API Request Parameters:</p>

<ul>
<li>None</li>
</ul>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"XBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688278390000</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.0</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-orderbook'>Get OrderBook</h2>
<p>API Description: Retrieve the latest OrderBook for a specific trading pair.</p>

<p>API Path: GET /v1/market/orderBook/:symbol_name</p>

<p>API Example: GET <a href="https://testnet.app.zkex.com/v1/market/orderBook/WBTC_USDC">/v1/market/orderBook/WBTC_USDC</a></p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol_name</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br>Symbol name, for example <code>WBTC_USDC</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>depth</strong></td>
<td><strong>params</strong></td>
<td style="text-align: left"><strong>Optional</strong><br>Order book depth defaults to 25 levels and can go up to a maximum of 150 levels`</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40000.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sellOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"buyOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"39000.0"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">pirce</span><span class="w">
        </span><span class="s2">"0.10"</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="err">size</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"38000.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.10"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="s2">"36000.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"0.10"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">651640</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1689064825725</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-bar-data'>Get Bar Data</h2>
<p>API Description: Retrieve the latest bar data for a specific trading pair. The interface does not differentiate between spot and contract markets.</p>

<p>API Path: GET /v1/market/bars/:symbol_name/:type</p>

<p>API Example: GET <a href="https://testnet.app.zkex.com/v1/market/bars/WBTC_USDC/min">/v1/market/bars/WBTC_USDC/min</a></p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td style="text-align: left"><strong>string</strong></td>
<td><strong>Required</strong><br>Symbol name, for example <code>WBTC_USDC</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>type</strong></td>
<td style="text-align: left"><strong>enum</strong></td>
<td><strong>Required</strong><br>Bar type, currently supports <code>MIN</code>, <code>MIN5</code>, <code>MIN15</code>, <code>MIN30</code>, <code>HOUR</code>, <code>HOUR4</code>, <code>DAY</code>, <code>WEEK</code>, <code>MONTH</code></td>
</tr>
</tbody></table>

<p>API Request Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>start</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>Optional</strong><br/>Start timestamp, in milliseconds</td>
</tr>
<tr>
<td style="text-align: left"><strong>end</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>Optional</strong><br/>End timestamp, in milliseconds</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong></td>
<td style="text-align: left"><strong>long</strong></td>
<td><strong>Optional</strong><br/>The number of bars to retrieve, default is 200, maximum is 200</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mi">1685404800000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mf">0.3</span><span class="p">,</span><span class="w">
        </span><span class="mi">12000</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mi">1687132800000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="mi">40000</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Note：</p>

<p>bar data format：</p>

<p><code>[timestamp, open, high, low, close, amount, volume]</code></p>

<p>The results are always sorted in ascending order by timestamp.</p>
<h1 id='spot-trading'>Spot Trading</h1>
<p>Spot trading API can be used for spot trading, including placing orders, cancelling orders, viewing current active orders, and querying historical orders.</p>
<h2 id='query-account-balance'>Query Account Balance</h2>
<p>API Description: Query the balance of a user&#39;s spot account.</p>

<p>API Path: GET /v1/trading/:accountId/balances</p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>accountId</em></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br>account id</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">available</span><span class="w">
      </span><span class="s2">"0"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">spot</span><span class="w"> </span><span class="err">frozen</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='query-user-fees'>Query User Fees</h2>
<p>API Description: Query the trading fees for a user&#39;s spot trades.</p>

<p>API Path: GET /v1/trading/spots/fee/rate</p>

<p>API Query Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>Required</strong><br>Symbol name, for example <code>WBTC_USDC</code></td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"taker"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maker"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688386621807</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-order-nonce-information'>Get Order Nonce Information</h2>
<p>API Description: This API provides real-time access to the order nonce information required when creating an order.</p>

<p>API Path: GET /v1/orderNonce/gen/:slotType/:size</p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>slotType</em></td>
<td><strong>int</strong></td>
<td style="text-align: left"><strong>Required</strong><br> Spot 0 Contract 1</td>
</tr>
<tr>
<td style="text-align: left"><em>size</em></td>
<td><strong>int</strong></td>
<td style="text-align: left"><strong>Optional</strong><br> Batch retrieval. If not specified, returns one entry</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example:
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">Required</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">placing</span><span class="w"> </span><span class="err">an</span><span class="w"> </span><span class="err">order</span><span class="w">
    </span><span class="nl">"slotId"</span><span class="p">:</span><span class="w"> </span><span class="mi">28773</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">Raequired</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">placing</span><span class="w"> </span><span class="err">an</span><span class="w"> </span><span class="err">order</span><span class="w">
    </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Whether</span><span class="w"> </span><span class="err">available</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">use</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='place-order'>Place Order</h2>
<p>API Description: Create a new order.</p>

<p>API Path: POST /v1/trading/:accountId/spots/orders</p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>accountId</em></td>
<td><strong>int</strong></td>
<td style="text-align: left"><strong>Required</strong><br>account id</td>
</tr>
</tbody></table>

<p>API Request Json Body:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td><strong>Required</strong><br>Symbol name, for example <code>WBTC_USDC</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>type</strong></td>
<td><strong>enum</strong></td>
<td><strong>Required</strong><br/>Order types: Limit Order=&quot;LIMIT&quot;, Market Order=&quot;MARKET&quot;</td>
</tr>
<tr>
<td style="text-align: left"><strong>direction</strong></td>
<td><strong>enum</strong></td>
<td><strong>Required</strong><br/>Order directions: Buy=&quot;LONG&quot;, Sell=&quot;SHORT&quot;</td>
</tr>
<tr>
<td style="text-align: left"><strong>price</strong></td>
<td><strong>decimal</strong></td>
<td><strong>Required</strong><br/>Order price, for example <code>7123.5</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>quantity</strong></td>
<td><strong>decimal</strong></td>
<td><strong>Required</strong><br/>Order quantity, for example <code>1.02</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>fillOrKill</strong></td>
<td><strong>boolean</strong></td>
<td><strong>Optional</strong><br/>Whether it&#39;s a Fill or Kill (FOK) order, for example <code>true</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>immediateOrCancel</strong></td>
<td><strong>boolean</strong></td>
<td><strong>Optional</strong><br/>Whether it&#39;s an Immediate or Cancel (IOC) order, for example <code>true</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>postOnly</strong></td>
<td><strong>boolean</strong></td>
<td><strong>Required</strong><br/>Whether it&#39;s a Post Only order, for example <code>true</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>hidden</strong></td>
<td><strong>boolean</strong></td>
<td><strong>Required</strong><br/>Whether it&#39;s an Iceberg order, for example <code>true</code>. The fee rate for Iceberg orders is based on the taker fee rate</td>
</tr>
<tr>
<td style="text-align: left"><strong>clientOrderId</strong></td>
<td><strong>string</strong></td>
<td><strong>Optional</strong><br/>User-defined OrderId, which can be used to query activity Order</td>
</tr>
<tr>
<td style="text-align: left"><strong>slotId</strong></td>
<td><strong>long</strong></td>
<td><strong>Required</strong><br/>Order slotId, obtained through the /v1/orderNonce/gen interface, for example <code>1</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>nonce</strong></td>
<td><strong>long</strong></td>
<td><strong>Required</strong><br/>Order NonceId, obtained through the /v1/orderNonce/gen interface, for example <code>0</code></td>
</tr>
<tr>
<td style="text-align: left"><strong>signature</strong></td>
<td><strong>String</strong></td>
<td><strong>Required</strong><br/>The request parameter signature string is signed using a two-layer private key, referring to the ZkLink signature document</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example: Order Information
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">133001824436288</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Note: The order ID is returned asynchronously. The result of the order transaction will be notified through the WebSocket (WS), or you can actively query the transaction result<br/>
For market orders, a price is still required. Prices can be obtained from the endpoint /v1/trading/market/price/:type</p>
<h2 id='cancel-order'>Cancel Order</h2>
<p>API Description: Cancel an order.</p>

<p>API Path: POST /v1/trading/:accountId/spots/orders/:orderId/cancel</p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>order_id</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br>Order ID</td>
</tr>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br/>Account ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example: 
{
    "code": 200,
    "msg": "success",
    "data": {
        "orderId": 133016311562368
    }
}
</code></pre></div><div class="highlight"><pre class="highlight plaintext"><code>API Error Response:
{
"code": 1003,
"msg": "Active spots order not found.",
"data": null
}
</code></pre></div><h2 id='cancel-all-orders'>Cancel All Orders</h2>
<p>API Description: Cancel all orders.</p>

<p>API Path: POST /v1/trading/:accountId/spots/orders/cancel</p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><em>accountId</em></td>
<td><strong>int</strong></td>
<td style="text-align: left"><strong>Required</strong><br>Account id</td>
</tr>
</tbody></table>

<p>API Request Json Body:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"WBTC_USDC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>Optional</strong><br>Symbol name, for example <code>WBTC_USDC</code>, cancel all trading pair orders when it&#39;s empty</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example: 
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Note:</p>

<p>This interface is a batch operation executed by the server on behalf of the client, and not all orders are attempted to be canceled simultaneously. Therefore, the timeliness of canceling all orders cannot be guaranteed.</p>
<h2 id='query-order-details-by-order-id'>Query Order Details by Order ID</h2>
<p>API Description: Retrieve details of a specific order based on the order ID.</p>

<p>API Path: GET /v1/trading/:accountId/spots/orders/:orderId</p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br/>Account ID</td>
</tr>
<tr>
<td style="text-align: left"><strong>order_id</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br>Order ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example: Order Details
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128598358884418</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">539693</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULLY_FILLED"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1148.000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000175000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687861319658</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687861319658</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.010000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>OrderStatus:</p>

<ul>
<li>PENDING: Active Orders Waiting for Execution.</li>
<li>FAILED: Order Execution Failed (Insufficient Margin or Other Reasons), Final Status.</li>
<li>FULLY_FILLED: Fully Executed, Final Status.</li>
<li>PARTIAL_FILLED: Partially Filled.</li>
<li>PARTIAL_CANCELLED: Canceled After Partially Filled, Final Status.</li>
<li>FULLY_CANCELLED: Canceled Before Fill, Final Status.</li>
</ul>
<h2 id='query-order-details-by-clientorderid-only-supports-active-orders'>Query Order Details by clientOrderId (Only supports active orders)</h2>
<p>API Description: Query the details of an order based on the user-defined Order ID.</p>

<p>API Path: GET /v1/trading/:accountId/spots/clientOrders/open/:client_order_id</p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br/>Account ID</td>
</tr>
<tr>
<td style="text-align: left"><strong>client_order_id</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br>User-defined Order ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example: Order Details
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128598358884418</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">539693</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1148.000000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000175000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687861319658</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687861319658</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.010000000000000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='query-order-execution-details'>Query Order Execution Details</h2>
<p>API Description: Query the execution details of a specific order for the current user.</p>

<p>API Path: GET /v1/trading/:accountId/spots/orders/:order_id/matches</p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br/>Account ID</td>
</tr>
<tr>
<td style="text-align: left"><strong>order_id</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br>URL address parameters, order ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example: Order execution details sorted by time
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"taker"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">40000.000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.500000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688386253562</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>If an order&#39;s transaction records exceed 1000 entries, only the first 1000 records will be returned at most.</p>
<h2 id='query-settlement-result'>Query Settlement Result</h2>
<p>API Description: Query the settlement result of a specific order for the current user.</p>

<p>API Path: GET /v1/trading/:accountId/spots/match/clearings</p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br/>Account ID</td>
</tr>
</tbody></table>

<p>API Request Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>Optional</strong><br>Trading pair name, for example <code>WBTC_USDC</code>, default is empty.</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong></td>
<td><strong>long</strong></td>
<td style="text-align: left"><strong>Optional</strong><br/>The maximum number of records in the result set, ranging from 1 to 100, default is 100</td>
</tr>
<tr>
<td style="text-align: left"><strong>range</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>Optional</strong><br/>The query month, formatted as YYYYMM, for example &quot;201907&quot;, default is &quot;&quot; which represents the current month</td>
</tr>
<tr>
<td style="text-align: left"><strong>offsetId</strong></td>
<td><strong>long</strong></td>
<td style="text-align: left"><strong>Optional</strong><br/>The starting ID of the current page, default is 0, indicating the first page</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example: Order execution details sorted by time
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="s2">"202307"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hasMore"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextOffsetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10012</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">133001413394496</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">597555</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">40000.000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.500000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderStatusAfterClearing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULLY_FILLED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderUnfilledQuantityAfterClearing"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000500000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688386253562</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x42027101d6739a9b95d94701f6886620500fa853a27cd4d7d147a7bdfba46722"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='query-all-active-orders'>Query all active orders</h2>
<p>API Description: Query active orders for the current user.</p>

<p>API Path: GET /v1/trading/:accountId/spots/orders/open</p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br/>Account ID</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example: Order details sorted by time
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">129987889856579</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@129987889856579"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100103</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">558326</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PARTIAL_FILLED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">39.600000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
        </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688026964900</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688026993802</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.00</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='query-active-orders-by-order-id'>Query active orders by order ID</h2>
<p>API Description: Query active orders for the current user based on order ID.</p>

<p>API Path: GET /v1/trading/:accountId/spots/orders/open/:orderId</p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br/>Account ID</td>
</tr>
<tr>
<td style="text-align: left"><strong>orderId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br/>Order Id</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example: Order details sorted by time
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">133701593727043</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"@133701593727043"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">620475</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688469672168</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688469672168</span><span class="p">,</span><span class="w">
    </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='query-historical-orders'>Query historical orders</h2>
<p>API Description: Query historical orders for the current user.</p>

<p>API Path: GET /v1/trading/:accountId/spots/orders/closed</p>

<p>API Path Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>accountId</strong></td>
<td><strong>path</strong></td>
<td style="text-align: left"><strong>Required</strong><br/>Account ID</td>
</tr>
</tbody></table>

<p>API Request Parameters:</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th>Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><strong>symbol</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>Optional</strong><br>Trading pair name, for example <code>WBTC_USDC</code>, default is empty</td>
</tr>
<tr>
<td style="text-align: left"><strong>status</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>Optional</strong><br/> Order status, for example FULLY_FILLED</td>
</tr>
<tr>
<td style="text-align: left"><strong>limit</strong></td>
<td><strong>long</strong></td>
<td style="text-align: left"><strong>Optional</strong><br/>返The maximum number of records in the result set, ranging from 1 to 100, default is 100</td>
</tr>
<tr>
<td style="text-align: left"><strong>range</strong></td>
<td><strong>string</strong></td>
<td style="text-align: left"><strong>Optional</strong><br/>The query month, formatted as YYYYMM, for example &quot;201907&quot;, default is &quot;&quot; which represents the current month</td>
</tr>
<tr>
<td style="text-align: left"><strong>offsetId</strong></td>
<td><strong>long</strong></td>
<td style="text-align: left"><strong>Optional</strong><br/>The starting ID of the current page, default is 0, indicating the first page</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>API Response Example: Order details sorted by time
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="s2">"202306"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hasMore"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextOffsetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128598358884418</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101103</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">539693</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULLY_FILLED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1148.000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.000175000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">1148.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687861319658</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687861319658</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.010000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128593124393026</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">101103</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">539618</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FULLY_CANCELLED"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">50000.000000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0E-18</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fillPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.002000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687860695563</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1687860944692</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chargeQuote"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.010000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unfilledQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.010000000000000000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH_USDT"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Note:</p>

<p>Historical orders are always queried by page. For the first page, the offsetId should be set to 0 or not included.</p>

<p>If the API response example returns hasMore=true, you can construct the URL for the next page query based on nextOffsetId.</p>

<p>This interface does not support cross-month queries.</p>
<h1 id='futures-trading'>Futures Trading</h1><h2 id='stay-tuned'>Stay Tuned</h2><h1 id='websocket-api'>WebSocket API</h1>
<p>The WebSocket API refers to the data that is pushed after connecting to WebSocket.</p>
<h2 id='connection-information'>Connection Information</h2>
<p>WebSocket only supports the wss protocol:</p>

<ul>
<li>test environment: wss://testnet.app.zkex.com/v1/market/notification</li>
<li>prd environment: wss://app.zkex.com/v1/market/notification</li>
</ul>
<h2 id='user-authentication'>User Authentication</h2>
<p>To connect to the WebSocket as an authenticated user, you must provide a valid WebSocket token.</p>

<p>You can obtain a WebSocket token by making an API request to the following API endpoint (API signature required):</p>

<p>User API Request: GET <a href="https://testnet.app.zkex.com/v1/users/wss/token">/v1/users/wss/token</a></p>
<div class="highlight"><pre class="highlight plaintext"><code>If the user is not logged in, the result will be as follows:

{
  "code": 1003,
  "msg": "AUTH_SIGNIN_REQUIRED",
  "data": null
}

If the user is already logged in, the JSON response will include the Token:
{
  "code": 200,
  "msg": "success",
  "data": {
    "result": "ZVBkOHFYMDAwMDAyNzJlMTg5MjQxMjAxM2ZjZWQzYmRhYTUxNjM2OGQ4YjI4NjU5NDhjZjA3ZDQ3MjMyYWE5MDNlYTBkNTRlMWMxYTVhZGNlOGQ0YmI0YTA5"
  }
}

</code></pre></div>
<p>This token has a default validity period of 1 minute.</p>
<h2 id='authentication-connection'>Authentication Connection</h2>
<p>Append the obtained token as a parameter to the wss connection.</p>
<div class="highlight"><pre class="highlight plaintext"><code>wss://testnet.app.zkex.com/v1/market/notification?token=TlZsTWdwMDAwMDAyNzJlMTg4YzI3YjdmZDA5MmRkODY0MjE2YjNmYTU4YWMxY2EwZTdhMjRjY2IzMzNkMjMzMmViMzAxYzE1Njg2ZWFmNjAwYTNhNTdlOTgw

If the WSS server successfully verifies the user, it will push messages.

{
  "status": "connected",
  "message": "connected as signed user",
  "userId": 10030
}

If the WSS server fails to verify the user, the pushed message will not contain the userId.

{
  "status": "connected",
  "message": "connected as anonymous user"
}

</code></pre></div>
<p>After successfully authenticating the WSS connection, the server will push user-related information such as order executions and cancellations.</p>
<h2 id='subscribing'>Subscribing</h2>
<p>After connecting to WSS, you need to subscribe to a specific symbol by sending the following message:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"action"</span><span class="p">:</span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"WBTC_USDC"</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">Subscribe</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">specified</span><span class="w"> </span><span class="err">symbol</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Response Format:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">All</span><span class="w"> </span><span class="err">information</span><span class="w"> </span><span class="err">related</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">specified</span><span class="w"> </span><span class="err">symbol</span><span class="w"> </span><span class="err">will</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="err">subscribed</span><span class="w"> </span><span class="err">to</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The types of messages pushed via WebSocket (WS) are as follows:</p>

<ol>
<li>orderbook </li>
<li>prices<br></li>
<li>bar: support kline {MIN,MIN5,MIN15,MIN30,HOUR,HOUR4,DAY,WEEK,MONTH}</li>
<li>bbo</li>
</ol>
<h2 id='unsubscribing'>Unsubscribing</h2>
<p>Already subscribed topics can be unsubscribed using the &#39;unsubscribe&#39; action. The message format is as follows:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"action"</span><span class="p">:</span><span class="s2">"unsubscribe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"WBTC_USDC"</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">Subscribe</span><span class="w"> </span><span class="err">to</span><span class="w"> </span><span class="err">the</span><span class="w"> </span><span class="err">specified</span><span class="w"> </span><span class="err">symbol</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='heartbeat'>Heartbeat</h2>
<p>Clients need to send a ping message every &#39;15 seconds&#39; to maintain connection heartbeat. The format is as follows:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"action"</span><span class="p">:</span><span class="s2">"ping"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Server Response:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"pong"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1688721638247</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='prices-message'>Prices Message</h2>
<p>This message type does not require subscription. After connecting to the WebSocket (WS), the server will periodically push market price summary messages with the following format:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prices"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"XBTC"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688458520000</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">timestamp</span><span class="w">
      </span><span class="mf">40000.000000</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">open</span><span class="w">
      </span><span class="mf">40000.000000</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">high</span><span class="w">
      </span><span class="mf">40000.000000</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">low</span><span class="w">
      </span><span class="mf">40000.000000</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="err">close</span><span class="w">
      </span><span class="mf">0.000000</span><span class="p">,</span><span class="w">      </span><span class="err">//</span><span class="w"> </span><span class="err">volume</span><span class="w">
      </span><span class="mf">0.000000</span><span class="w">       </span><span class="err">//</span><span class="w"> </span><span class="err">amount</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"XBCH"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688458520000</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.500000</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.500000</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.500000</span><span class="p">,</span><span class="w">
      </span><span class="mf">117.500000</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.000000</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"ETH_USDT"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688458520000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1148.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">654.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">654.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">1.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">654.000000</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Note:</p>

<ul>
<li>Message Type: prices</li>
<li>Data Format: Same as the Bar data type, can be interpreted as a single candlestick chart for the past 24 hours (but different from daily candles, as the start time for daily candles is 0:00).</li>
<li>Subscription Required: No</li>
</ul>
<h2 id='bar-information'>Bar Information</h2>
<p>This message type requires subscription based on the symbol, pushing all supported bars.
The server will periodically push bar (candle) information based on actual trades:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"resolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONTH"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">629050</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">1688198400000</span><span class="p">,</span><span class="w">
    </span><span class="mi">40000</span><span class="p">,</span><span class="w">
    </span><span class="mi">40000</span><span class="p">,</span><span class="w">
    </span><span class="mi">40000</span><span class="p">,</span><span class="w">
    </span><span class="mi">40000</span><span class="p">,</span><span class="w">
    </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
    </span><span class="mi">4000</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">  
</span></code></pre></div>
<p>Note:</p>

<ul>
<li>Message Type: bar</li>
<li>Data Format: [timestamp, open, high, low, close, amount, volume]</li>
<li>Subscription Required: Yes</li>
</ul>
<h2 id='orderbook-information'>OrderBook Information</h2>
<p>The server incrementally pushes OrderBook messages at a fixed frequency, as follows:</p>

<p>OrderBook message format:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orderbook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastSequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">629050</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">629112</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"sellOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">40000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"buyOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="w">
        </span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="mf">0.1</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">629112</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1688721638247</span><span class="w">

  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Note:</p>

<ul>
<li>Message Type: orderbook</li>
<li>Subscription Required: Yes</li>
<li>The format of depth data is <code>[price, amount]</code></li>
<li>You need to maintain the order book yourself and update it incrementally based on the sequence ID.</li>
<li>Rules for maintaining the order book: When pushing, match based on price. If the current price exists, update the amount to the latest value (replace directly).
If the amount equals 0, remove that price from the order book. If the current price does not exist, insert it into the order book in sorted order based on price.</li>
</ul>
<h2 id='bbo-message'>BBO Message</h2>
<p>The server pushes BBO (Best Bid Offer) data at a fixed frequency when there are changes in the system&#39;s order book.</p>

<p>BBO Message Format:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bbo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">656695</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1689129928255</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bidPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">39000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bidVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"askPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">39200.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"askVolume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Note:</p>

<ul>
<li>Message Type: bbo</li>
<li>Subscription Required: Yes</li>
</ul>
<h2 id='tick-message'>Tick Message</h2>
<p>The server irregularly pushes the latest tick message of the last trade as follows:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tick"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">629128</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">[</span><span class="w">
      </span><span class="mi">1688546965845</span><span class="p">,</span><span class="w">
      </span><span class="mi">0</span><span class="p">,</span><span class="w">   
      </span><span class="mf">40000.000000</span><span class="p">,</span><span class="w">
      </span><span class="mf">0.100000</span><span class="p">,</span><span class="w">
      </span><span class="mf">4000.000000</span><span class="p">,</span><span class="w">
      </span><span class="mi">0</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Note:</p>

<ul>
<li>Message Type: tick</li>
<li>Subscription Required: Yes</li>
<li>A tick message contains one or more trade information.</li>
<li>tick data format <code>[timestamp, dir, price, volume ,amount, flag]</code>

<ul>
<li>timestamp</li>
<li>dir: 1=Buy, 0=Sell</li>
<li>price: Trade price</li>
<li>amount: Trade volume</li>
<li>volume: Trade value</li>
<li>flag: 0=Normal trade (additional liquidation flag will be added later)</li>
</ul></li>
</ul>
<h2 id='order-execution-message'>Order Execution Message</h2>
<p>When a user&#39;s order is executed, an order execution message is generated:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">629244</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100103</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC_USDC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">134357624815680</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1688547890569</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="mf">40000.0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0d2378a304e5b9681362ed6da7b1cdf42e6e4a9888aef5f494b7b0d6a955b3ce"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOTS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SHORT"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order_matched"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">10030</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1688721638247</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Note:
- Authentication Required: Yes</p>
<h2 id='order-status-change-message'>Order Status Change Message</h2>
<p>When the status of a user&#39;s order changes, an order status change message is received:</p>
<div class="highlight"><pre class="highlight plaintext"><code>// order_pending
{
  "sequenceId": 629212,
  "data": {
    "symbolId": 100103,
    "symbol": "WBTC_USDC",
    "quantity": 0.1,
    "orderId": 134355368280128,
    "clientOrderId": "@207390481842241",
    "fee": 0,
    "type": "LIMIT",
    "fillPrice": 0.0,
    "createdAt": 1688547608090,
    "unfilledQuantity": 0.1,
    "price": 40000.0,
    "tradeType": "SPOTS",
    "status": "PENDING",
    "direction": "SHORT"
  },
  "type": "order_pending",
  "userId": 10030,
  "timestamp":1688721638247
}
// order_cancelled
{
  "sequenceId": 629219,
  "data": {
    "symbolId": 100103,
    "symbol": "WBTC_USDC",
    "quantity": 0.1,
    "orderId": 134355368280128,
    "clientOrderId": "@207390481842241",
    "fee": 0,
    "type": "LIMIT",
    "fillPrice": 0.0,
    "createdAt": 1688547608090,
    "unfilledQuantity": 0.1,
    "price": 40000.0,
    "tradeType": "SPOTS",
    "status": "FULLY_CANCELLED",
    "direction": "SHORT"
  },
  "type": "order_cancelled",
  "userId": 10030,
  "timestamp":1688721638247
}
// order_filled
{
    "sequenceId": 629244,
    "data": {
        "symbolId": 100103,
        "symbol": "WBTC_USDC",
        "quantity": 0.1,
        "orderId": 134357624815680,
        "clientOrderId": "@207390481842241",
        "fee": 4.0,
        "type": "LIMIT",
        "fillPrice": 40000.0,
        "createdAt": 1688547877777,
        "unfilledQuantity": 0.0,
        "price": 40000.0,
        "tradeType": "SPOTS",
        "status": "FULLY_FILLED",
        "direction": "SHORT"
    },
    "type": "order_filled",
    "userId": 10030,
    "timestamp":1688721638247
}
// order_failed
{
    "sequenceId": 629378,
    "data": {
        "symbolId": 100103,
        "symbol": "WBTC_USDC",
        "quantity": 10.0,
        "orderId": 134366348968000,
        "clientOrderId": "@207390481842241",
        "fee": 0,
        "type": "LIMIT",
        "fillPrice": 0.0,
        "createdAt": 1688548917424,
        "unfilledQuantity": 10.0,
        "price": 40000.0,
        "failReason": "ACCOUNT_NO_ENOUGH_AVAILABLE",
        "tradeType": "SPOTS",
        "status": "FAILED",
        "direction": "LONG"
    },
    "type": "order_failed",
    "userId": 10030,
    "timestamp":1688721638247
}

</code></pre></div>
<p>Note:
- Authentication Required: Yes</p>

<ul>
<li>type: order_pending,order_cancelled,order_filled,order_failed</li>
<li>The data object will further specify the status for cancellation and filled orders.</li>
<li>If provided by the user, the clientOrderId will be taken as is. If not provided, the system will generate one.</li>
</ul>
<h2 id='position-change-message'>Position Change Message</h2>
<p>When there is a change in user positions, you will receive a position change message.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="mi">630902</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"position_changed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="mi">132</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1688555522202</span><span class="p">,</span><span class="w">
        </span><span class="nl">"symbol"</span><span class="p">:</span><span class="s2">"XBTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="mi">134421336293440</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">40000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="mi">16</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feeCurrency"</span><span class="p">:</span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txHash"</span><span class="p">:</span><span class="s2">"0xb88f84d1b73a04593ea63c08251a190c544ab558302a548ec471b4fa069d544a"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantityChanged"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"direction"</span><span class="p">:</span><span class="s2">"SHORT"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1688721638247</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>Note:
- Authentication Required: Yes</p>
<h2 id='liquidation-message'>Liquidation Message</h2>
<p>When a user&#39;s position is liquidated, you will receive a liquidation message.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="mi">630941</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"position_liquidated"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"balances"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"USDT"</span><span class="p">:</span><span class="mi">4000</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"contractsPrices"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"145"</span><span class="p">:</span><span class="mf">546.004777</span><span class="p">,</span><span class="w">
            </span><span class="nl">"132"</span><span class="p">:</span><span class="mf">50000.4375</span><span class="p">,</span><span class="w">
            </span><span class="nl">"119"</span><span class="p">:</span><span class="mf">114.000997</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"positions"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"symbolId"</span><span class="p">:</span><span class="mi">132</span><span class="p">,</span><span class="w">
                </span><span class="nl">"quantity"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="nl">"requiredMargin"</span><span class="p">:</span><span class="mi">1600</span><span class="p">,</span><span class="w">
                </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="mi">40000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"entryTotalValue"</span><span class="p">:</span><span class="mi">16000</span><span class="p">,</span><span class="w">
                </span><span class="nl">"minimumMaintenanceMarginRate"</span><span class="p">:</span><span class="mf">0.005</span><span class="p">,</span><span class="w">
                </span><span class="nl">"minimumMaintenanceMargin"</span><span class="p">:</span><span class="mi">80</span><span class="p">,</span><span class="w">
                </span><span class="nl">"unrealizedPNL"</span><span class="p">:</span><span class="mf">-4000.175</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"priceInfos"</span><span class="p">:{</span><span class="w">
            </span><span class="nl">"100"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="mf">45714.29</span><span class="p">,</span><span class="w">
                </span><span class="nl">"conversionRatio"</span><span class="p">:</span><span class="mi">1</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"101"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">546</span><span class="p">,</span><span class="w">
                </span><span class="nl">"conversionRatio"</span><span class="p">:</span><span class="mf">0.9</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"102"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">114</span><span class="p">,</span><span class="w">
                </span><span class="nl">"conversionRatio"</span><span class="p">:</span><span class="mf">0.8</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"103"</span><span class="p">:{</span><span class="w">
                </span><span class="nl">"price"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"conversionRatio"</span><span class="p">:</span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">10030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1688721638247</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>Note:
- Authentication Required: Yes</p>
<h2 id='account-asset-change-message'>Account Asset Change Message</h2>
<p>When there is a change in user&#39;s assets, you will receive an account asset change message.</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="mi">630878</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">10030</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"account_changed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="mi">1688555305545</span><span class="p">,</span><span class="w">
        </span><span class="nl">"total"</span><span class="p">:</span><span class="mi">49908</span><span class="p">,</span><span class="w">
        </span><span class="nl">"available"</span><span class="p">:</span><span class="mi">45908</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currencyId"</span><span class="p">:</span><span class="mi">103</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">10030</span><span class="p">,</span><span class="w">
        </span><span class="nl">"spotsFrozen"</span><span class="p">:</span><span class="mi">4000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sequenceId"</span><span class="p">:</span><span class="mi">630878</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="mi">1688721638247</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>Note:
- Authentication Required: Yes</p>
<h1 id='errors'>Errors</h1>
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
